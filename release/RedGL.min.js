var RedGL,RedBaseContainer,RedBaseObject3D,RedRenderer,RedShader,RedCamera,RedView,RedWorld,RedScene;!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r=n();for(var a in r)("object"==typeof exports?exports:t)[a]=r[a]}}(this,function(){return function(t){function n(a){if(r[a])return r[a].exports;var e=r[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var r={};return n.m=t,n.c=r,n.d=function(t,r,a){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:a})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=4)}([function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t},n.toRadian=function(t){return t*e},n.equals=function(t,n){return Math.abs(t-n)<=a*Math.max(1,Math.abs(t),Math.abs(n))};var a=n.EPSILON=1e-6,e=(n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,Math.PI/180)},function(t,n,r){"use strict";function a(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3],u=n[4],s=n[5],c=n[6],h=n[7],f=n[8],M=r[0],d=r[1],l=r[2],v=r[3],m=r[4],b=r[5],p=r[6],R=r[7],E=r[8];return t[0]=M*a+d*i+l*c,t[1]=M*e+d*u+l*h,t[2]=M*o+d*s+l*f,t[3]=v*a+m*i+b*c,t[4]=v*e+m*u+b*h,t[5]=v*o+m*s+b*f,t[6]=p*a+R*i+E*c,t[7]=p*e+R*u+E*h,t[8]=p*o+R*s+E*f,t}function e(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t}Object.defineProperty(n,"__esModule",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new o.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat4=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t},n.clone=function(t){var n=new o.ARRAY_TYPE(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromValues=function(t,n,r,a,e,i,u,s,c){var h=new o.ARRAY_TYPE(9);return h[0]=t,h[1]=n,h[2]=r,h[3]=a,h[4]=e,h[5]=i,h[6]=u,h[7]=s,h[8]=c,h},n.set=function(t,n,r,a,e,o,i,u,s,c){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.transpose=function(t,n){if(t===n){var r=n[1],a=n[2],e=n[5];t[1]=n[3],t[2]=n[6],t[3]=r,t[5]=n[7],t[6]=a,t[7]=e}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],o=n[3],i=n[4],u=n[5],s=n[6],c=n[7],h=n[8],f=h*i-u*c,M=-h*o+u*s,d=c*o-i*s,l=r*f+a*M+e*d;return l?(l=1/l,t[0]=f*l,t[1]=(-h*a+e*c)*l,t[2]=(u*a-e*i)*l,t[3]=M*l,t[4]=(h*r-e*s)*l,t[5]=(-u*r+e*o)*l,t[6]=d*l,t[7]=(-c*r+a*s)*l,t[8]=(i*r-a*o)*l,t):null},n.adjoint=function(t,n){var r=n[0],a=n[1],e=n[2],o=n[3],i=n[4],u=n[5],s=n[6],c=n[7],h=n[8];return t[0]=i*h-u*c,t[1]=e*c-a*h,t[2]=a*u-e*i,t[3]=u*s-o*h,t[4]=r*h-e*s,t[5]=e*o-r*u,t[6]=o*c-i*s,t[7]=a*s-r*c,t[8]=r*i-a*o,t},n.determinant=function(t){var n=t[0],r=t[1],a=t[2],e=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8];return n*(c*o-i*s)+r*(-c*e+i*u)+a*(s*e-o*u)},n.multiply=a,n.translate=function(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3],u=n[4],s=n[5],c=n[6],h=n[7],f=n[8],M=r[0],d=r[1];return t[0]=a,t[1]=e,t[2]=o,t[3]=i,t[4]=u,t[5]=s,t[6]=M*a+d*i+c,t[7]=M*e+d*u+h,t[8]=M*o+d*s+f,t},n.rotate=function(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3],u=n[4],s=n[5],c=n[6],h=n[7],f=n[8],M=Math.sin(r),d=Math.cos(r);return t[0]=d*a+M*i,t[1]=d*e+M*u,t[2]=d*o+M*s,t[3]=d*i-M*a,t[4]=d*u-M*e,t[5]=d*s-M*o,t[6]=c,t[7]=h,t[8]=f,t},n.scale=function(t,n,r){var a=r[0],e=r[1];return t[0]=a*n[0],t[1]=a*n[1],t[2]=a*n[2],t[3]=e*n[3],t[4]=e*n[4],t[5]=e*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},n.fromRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=0,t[3]=-r,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat2d=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},n.fromQuat=function(t,n){var r=n[0],a=n[1],e=n[2],o=n[3],i=r+r,u=a+a,s=e+e,c=r*i,h=a*i,f=a*u,M=e*i,d=e*u,l=e*s,v=o*i,m=o*u,b=o*s;return t[0]=1-f-l,t[3]=h-b,t[6]=M+m,t[1]=h+b,t[4]=1-c-l,t[7]=d-v,t[2]=M-m,t[5]=d+v,t[8]=1-c-f,t},n.normalFromMat4=function(t,n){var r=n[0],a=n[1],e=n[2],o=n[3],i=n[4],u=n[5],s=n[6],c=n[7],h=n[8],f=n[9],M=n[10],d=n[11],l=n[12],v=n[13],m=n[14],b=n[15],p=r*u-a*i,R=r*s-e*i,E=r*c-o*i,_=a*s-e*u,w=a*c-o*u,O=e*c-o*s,S=h*v-f*l,A=h*m-M*l,P=h*b-d*l,y=f*m-M*v,L=f*b-d*v,I=M*b-d*m,x=p*I-R*L+E*y+_*P-w*A+O*S;return x?(x=1/x,t[0]=(u*I-s*L+c*y)*x,t[1]=(s*P-i*I-c*A)*x,t[2]=(i*L-u*P+c*S)*x,t[3]=(e*L-a*I-o*y)*x,t[4]=(r*I-e*P+o*A)*x,t[5]=(a*P-r*L-o*S)*x,t[6]=(v*O-m*w+b*_)*x,t[7]=(m*E-l*O-b*R)*x,t[8]=(l*w-v*E+b*p)*x,t):null},n.projection=function(t,n,r){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},n.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t},n.subtract=e,n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t},n.multiplyScalarAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t[4]=n[4]+r[4]*a,t[5]=n[5]+r[5]*a,t[6]=n[6]+r[6]*a,t[7]=n[7]+r[7]*a,t[8]=n[8]+r[8]*a,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},n.equals=function(t,n){var r=t[0],a=t[1],e=t[2],i=t[3],u=t[4],s=t[5],c=t[6],h=t[7],f=t[8],M=n[0],d=n[1],l=n[2],v=n[3],m=n[4],b=n[5],p=n[6],R=n[7],E=n[8];return Math.abs(r-M)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(a-d)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(e-l)<=o.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(i-v)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(u-m)<=o.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(s-b)<=o.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(c-p)<=o.EPSILON*Math.max(1,Math.abs(c),Math.abs(p))&&Math.abs(h-R)<=o.EPSILON*Math.max(1,Math.abs(h),Math.abs(R))&&Math.abs(f-E)<=o.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))};var o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));n.mul=a,n.sub=e},function(t,n,r){"use strict";function a(){var t=new l.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function e(t){var n=t[0],r=t[1],a=t[2];return Math.sqrt(n*n+r*r+a*a)}function o(t,n,r){var a=new l.ARRAY_TYPE(3);return a[0]=t,a[1]=n,a[2]=r,a}function i(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t}function u(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t}function s(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t}function c(t,n){var r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2];return Math.sqrt(r*r+a*a+e*e)}function h(t,n){var r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2];return r*r+a*a+e*e}function f(t){var n=t[0],r=t[1],a=t[2];return n*n+r*r+a*a}function M(t,n){var r=n[0],a=n[1],e=n[2],o=r*r+a*a+e*e;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o),t}function d(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}Object.defineProperty(n,"__esModule",{value:!0}),n.forEach=n.sqrLen=n.len=n.sqrDist=n.dist=n.div=n.mul=n.sub=void 0,n.create=a,n.clone=function(t){var n=new l.ARRAY_TYPE(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},n.length=e,n.fromValues=o,n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t},n.set=function(t,n,r,a){return t[0]=n,t[1]=r,t[2]=a,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t},n.subtract=i,n.multiply=u,n.divide=s,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},n.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t},n.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t},n.scaleAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t},n.distance=c,n.squaredDistance=h,n.squaredLength=f,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},n.normalize=M,n.dot=d,n.cross=function(t,n,r){var a=n[0],e=n[1],o=n[2],i=r[0],u=r[1],s=r[2];return t[0]=e*s-o*u,t[1]=o*i-a*s,t[2]=a*u-e*i,t},n.lerp=function(t,n,r,a){var e=n[0],o=n[1],i=n[2];return t[0]=e+a*(r[0]-e),t[1]=o+a*(r[1]-o),t[2]=i+a*(r[2]-i),t},n.hermite=function(t,n,r,a,e,o){var i=o*o,u=i*(2*o-3)+1,s=i*(o-2)+o,c=i*(o-1),h=i*(3-2*o);return t[0]=n[0]*u+r[0]*s+a[0]*c+e[0]*h,t[1]=n[1]*u+r[1]*s+a[1]*c+e[1]*h,t[2]=n[2]*u+r[2]*s+a[2]*c+e[2]*h,t},n.bezier=function(t,n,r,a,e,o){var i=1-o,u=i*i,s=o*o,c=u*i,h=3*o*u,f=3*s*i,M=s*o;return t[0]=n[0]*c+r[0]*h+a[0]*f+e[0]*M,t[1]=n[1]*c+r[1]*h+a[1]*f+e[1]*M,t[2]=n[2]*c+r[2]*h+a[2]*f+e[2]*M,t},n.random=function(t,n){n=n||1;var r=2*l.RANDOM()*Math.PI,a=2*l.RANDOM()-1,e=Math.sqrt(1-a*a)*n;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t[2]=a*n,t},n.transformMat4=function(t,n,r){var a=n[0],e=n[1],o=n[2],i=r[3]*a+r[7]*e+r[11]*o+r[15];return i=i||1,t[0]=(r[0]*a+r[4]*e+r[8]*o+r[12])/i,t[1]=(r[1]*a+r[5]*e+r[9]*o+r[13])/i,t[2]=(r[2]*a+r[6]*e+r[10]*o+r[14])/i,t},n.transformMat3=function(t,n,r){var a=n[0],e=n[1],o=n[2];return t[0]=a*r[0]+e*r[3]+o*r[6],t[1]=a*r[1]+e*r[4]+o*r[7],t[2]=a*r[2]+e*r[5]+o*r[8],t},n.transformQuat=function(t,n,r){var a=n[0],e=n[1],o=n[2],i=r[0],u=r[1],s=r[2],c=r[3],h=c*a+u*o-s*e,f=c*e+s*a-i*o,M=c*o+i*e-u*a,d=-i*a-u*e-s*o;return t[0]=h*c+d*-i+f*-s-M*-u,t[1]=f*c+d*-u+M*-i-h*-s,t[2]=M*c+d*-s+h*-u-f*-i,t},n.rotateX=function(t,n,r,a){var e=[],o=[];return e[0]=n[0]-r[0],e[1]=n[1]-r[1],e[2]=n[2]-r[2],o[0]=e[0],o[1]=e[1]*Math.cos(a)-e[2]*Math.sin(a),o[2]=e[1]*Math.sin(a)+e[2]*Math.cos(a),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},n.rotateY=function(t,n,r,a){var e=[],o=[];return e[0]=n[0]-r[0],e[1]=n[1]-r[1],e[2]=n[2]-r[2],o[0]=e[2]*Math.sin(a)+e[0]*Math.cos(a),o[1]=e[1],o[2]=e[2]*Math.cos(a)-e[0]*Math.sin(a),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},n.rotateZ=function(t,n,r,a){var e=[],o=[];return e[0]=n[0]-r[0],e[1]=n[1]-r[1],e[2]=n[2]-r[2],o[0]=e[0]*Math.cos(a)-e[1]*Math.sin(a),o[1]=e[0]*Math.sin(a)+e[1]*Math.cos(a),o[2]=e[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},n.angle=function(t,n){var r=o(t[0],t[1],t[2]),a=o(n[0],n[1],n[2]);M(r,r),M(a,a);var e=d(r,a);return e>1?0:e<-1?Math.PI:Math.acos(e)},n.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]},n.equals=function(t,n){var r=t[0],a=t[1],e=t[2],o=n[0],i=n[1],u=n[2];return Math.abs(r-o)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-i)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(e-u)<=l.EPSILON*Math.max(1,Math.abs(e),Math.abs(u))};var l=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));n.sub=i,n.mul=u,n.div=s,n.dist=c,n.sqrDist=h,n.len=e,n.sqrLen=f,n.forEach=function(){var t=a();return function(n,r,a,e,o,i){var u,s=void 0;for(r||(r=3),a||(a=0),u=e?Math.min(e*r+a,n.length):n.length,s=a;s<u;s+=r)t[0]=n[s],t[1]=n[s+1],t[2]=n[s+2],o(t,t,i),n[s]=t[0],n[s+1]=t[1],n[s+2]=t[2];return n}}()},function(t,n,r){"use strict";function a(){var t=new d.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function e(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}function o(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t[3]=n[3]*r[3],t}function i(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t[3]=n[3]/r[3],t}function u(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t}function s(t,n){var r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2],o=n[3]-t[3];return Math.sqrt(r*r+a*a+e*e+o*o)}function c(t,n){var r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2],o=n[3]-t[3];return r*r+a*a+e*e+o*o}function h(t){var n=t[0],r=t[1],a=t[2],e=t[3];return Math.sqrt(n*n+r*r+a*a+e*e)}function f(t){var n=t[0],r=t[1],a=t[2],e=t[3];return n*n+r*r+a*a+e*e}function M(t,n){var r=n[0],a=n[1],e=n[2],o=n[3],i=r*r+a*a+e*e+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=r*i,t[1]=a*i,t[2]=e*i,t[3]=o*i),t}Object.defineProperty(n,"__esModule",{value:!0}),n.forEach=n.sqrLen=n.len=n.sqrDist=n.dist=n.div=n.mul=n.sub=void 0,n.create=a,n.clone=function(t){var n=new d.ARRAY_TYPE(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},n.fromValues=function(t,n,r,a){var e=new d.ARRAY_TYPE(4);return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},n.set=function(t,n,r,a,e){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t},n.subtract=e,n.multiply=o,n.divide=i,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},n.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t[3]=Math.min(n[3],r[3]),t},n.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t[3]=Math.max(n[3],r[3]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},n.scale=u,n.scaleAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t},n.distance=s,n.squaredDistance=c,n.length=h,n.squaredLength=f,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},n.normalize=M,n.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},n.lerp=function(t,n,r,a){var e=n[0],o=n[1],i=n[2],u=n[3];return t[0]=e+a*(r[0]-e),t[1]=o+a*(r[1]-o),t[2]=i+a*(r[2]-i),t[3]=u+a*(r[3]-u),t},n.random=function(t,n){return n=n||1,t[0]=d.RANDOM(),t[1]=d.RANDOM(),t[2]=d.RANDOM(),t[3]=d.RANDOM(),M(t,t),u(t,t,n),t},n.transformMat4=function(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3];return t[0]=r[0]*a+r[4]*e+r[8]*o+r[12]*i,t[1]=r[1]*a+r[5]*e+r[9]*o+r[13]*i,t[2]=r[2]*a+r[6]*e+r[10]*o+r[14]*i,t[3]=r[3]*a+r[7]*e+r[11]*o+r[15]*i,t},n.transformQuat=function(t,n,r){var a=n[0],e=n[1],o=n[2],i=r[0],u=r[1],s=r[2],c=r[3],h=c*a+u*o-s*e,f=c*e+s*a-i*o,M=c*o+i*e-u*a,d=-i*a-u*e-s*o;return t[0]=h*c+d*-i+f*-s-M*-u,t[1]=f*c+d*-u+M*-i-h*-s,t[2]=M*c+d*-s+h*-u-f*-i,t[3]=n[3],t},n.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},n.equals=function(t,n){var r=t[0],a=t[1],e=t[2],o=t[3],i=n[0],u=n[1],s=n[2],c=n[3];return Math.abs(r-i)<=d.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(a-u)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(e-s)<=d.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(o-c)<=d.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))};var d=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));n.sub=e,n.mul=o,n.div=i,n.dist=s,n.sqrDist=c,n.len=h,n.sqrLen=f,n.forEach=function(){var t=a();return function(n,r,a,e,o,i){var u,s=void 0;for(r||(r=4),a||(a=0),u=e?Math.min(e*r+a,n.length):n.length,s=a;s<u;s+=r)t[0]=n[s],t[1]=n[s+1],t[2]=n[s+2],t[3]=n[s+3],o(t,t,i),n[s]=t[0],n[s+1]=t[1],n[s+2]=t[2],n[s+3]=t[3];return n}}()},function(t,n,r){"use strict";function a(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}Object.defineProperty(n,"__esModule",{value:!0}),n.vec4=n.vec3=n.vec2=n.quat=n.mat4=n.mat3=n.mat2d=n.mat2=n.glMatrix=void 0;var e=a(r(0)),o=a(r(5)),i=a(r(6)),u=a(r(1)),s=a(r(7)),c=a(r(8)),h=a(r(9)),f=a(r(2)),M=a(r(3));n.glMatrix=e,n.mat2=o,n.mat2d=i,n.mat3=u,n.mat4=s,n.quat=c,n.vec2=h,n.vec3=f,n.vec4=M},function(t,n,r){"use strict";function a(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3],u=r[0],s=r[1],c=r[2],h=r[3];return t[0]=a*u+o*s,t[1]=e*u+i*s,t[2]=a*c+o*h,t[3]=e*c+i*h,t}function e(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}Object.defineProperty(n,"__esModule",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new o.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.clone=function(t){var n=new o.ARRAY_TYPE(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.fromValues=function(t,n,r,a){var e=new o.ARRAY_TYPE(4);return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e},n.set=function(t,n,r,a,e){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t},n.transpose=function(t,n){if(t===n){var r=n[1];t[1]=n[2],t[2]=r}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],o=n[3],i=r*o-e*a;return i?(i=1/i,t[0]=o*i,t[1]=-a*i,t[2]=-e*i,t[3]=r*i,t):null},n.adjoint=function(t,n){var r=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=r,t},n.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},n.multiply=a,n.rotate=function(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3],u=Math.sin(r),s=Math.cos(r);return t[0]=a*s+o*u,t[1]=e*s+i*u,t[2]=a*-u+o*s,t[3]=e*-u+i*s,t},n.scale=function(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3],u=r[0],s=r[1];return t[0]=a*u,t[1]=e*u,t[2]=o*s,t[3]=i*s,t},n.fromRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=-r,t[3]=a,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t},n.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},n.LDU=function(t,n,r,a){return t[2]=a[2]/a[0],r[0]=a[0],r[1]=a[1],r[3]=a[3]-t[2]*r[1],[t,n,r]},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t},n.subtract=e,n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},n.equals=function(t,n){var r=t[0],a=t[1],e=t[2],i=t[3],u=n[0],s=n[1],c=n[2],h=n[3];return Math.abs(r-u)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(a-s)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(e-c)<=o.EPSILON*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(i-h)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))},n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t},n.multiplyScalarAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t};var o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));n.mul=a,n.sub=e},function(t,n,r){"use strict";function a(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3],u=n[4],s=n[5],c=r[0],h=r[1],f=r[2],M=r[3],d=r[4],l=r[5];return t[0]=a*c+o*h,t[1]=e*c+i*h,t[2]=a*f+o*M,t[3]=e*f+i*M,t[4]=a*d+o*l+u,t[5]=e*d+i*l+s,t}function e(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t}Object.defineProperty(n,"__esModule",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new o.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.clone=function(t){var n=new o.ARRAY_TYPE(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.fromValues=function(t,n,r,a,e,i){var u=new o.ARRAY_TYPE(6);return u[0]=t,u[1]=n,u[2]=r,u[3]=a,u[4]=e,u[5]=i,u},n.set=function(t,n,r,a,e,o,i){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t[4]=o,t[5]=i,t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],o=n[3],i=n[4],u=n[5],s=r*o-a*e;return s?(s=1/s,t[0]=o*s,t[1]=-a*s,t[2]=-e*s,t[3]=r*s,t[4]=(e*u-o*i)*s,t[5]=(a*i-r*u)*s,t):null},n.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},n.multiply=a,n.rotate=function(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3],u=n[4],s=n[5],c=Math.sin(r),h=Math.cos(r);return t[0]=a*h+o*c,t[1]=e*h+i*c,t[2]=a*-c+o*h,t[3]=e*-c+i*h,t[4]=u,t[5]=s,t},n.scale=function(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3],u=n[4],s=n[5],c=r[0],h=r[1];return t[0]=a*c,t[1]=e*c,t[2]=o*h,t[3]=i*h,t[4]=u,t[5]=s,t},n.translate=function(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3],u=n[4],s=n[5],c=r[0],h=r[1];return t[0]=a,t[1]=e,t[2]=o,t[3]=i,t[4]=a*c+o*h+u,t[5]=e*c+i*h+s,t},n.fromRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=-r,t[3]=a,t[4]=0,t[5]=0,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t[4]=0,t[5]=0,t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=n[0],t[5]=n[1],t},n.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t},n.subtract=e,n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t},n.multiplyScalarAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t[4]=n[4]+r[4]*a,t[5]=n[5]+r[5]*a,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]},n.equals=function(t,n){var r=t[0],a=t[1],e=t[2],i=t[3],u=t[4],s=t[5],c=n[0],h=n[1],f=n[2],M=n[3],d=n[4],l=n[5];return Math.abs(r-c)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(a-h)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(e-f)<=o.EPSILON*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(i-M)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(u-d)<=o.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(s-l)<=o.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))};var o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));n.mul=a,n.sub=e},function(t,n,r){"use strict";function a(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3],u=n[4],s=n[5],c=n[6],h=n[7],f=n[8],M=n[9],d=n[10],l=n[11],v=n[12],m=n[13],b=n[14],p=n[15],R=r[0],E=r[1],_=r[2],w=r[3];return t[0]=R*a+E*u+_*f+w*v,t[1]=R*e+E*s+_*M+w*m,t[2]=R*o+E*c+_*d+w*b,t[3]=R*i+E*h+_*l+w*p,R=r[4],E=r[5],_=r[6],w=r[7],t[4]=R*a+E*u+_*f+w*v,t[5]=R*e+E*s+_*M+w*m,t[6]=R*o+E*c+_*d+w*b,t[7]=R*i+E*h+_*l+w*p,R=r[8],E=r[9],_=r[10],w=r[11],t[8]=R*a+E*u+_*f+w*v,t[9]=R*e+E*s+_*M+w*m,t[10]=R*o+E*c+_*d+w*b,t[11]=R*i+E*h+_*l+w*p,R=r[12],E=r[13],_=r[14],w=r[15],t[12]=R*a+E*u+_*f+w*v,t[13]=R*e+E*s+_*M+w*m,t[14]=R*o+E*c+_*d+w*b,t[15]=R*i+E*h+_*l+w*p,t}function e(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t[9]=n[9]-r[9],t[10]=n[10]-r[10],t[11]=n[11]-r[11],t[12]=n[12]-r[12],t[13]=n[13]-r[13],t[14]=n[14]-r[14],t[15]=n[15]-r[15],t}Object.defineProperty(n,"__esModule",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new o.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.clone=function(t){var n=new o.ARRAY_TYPE(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},n.fromValues=function(t,n,r,a,e,i,u,s,c,h,f,M,d,l,v,m){var b=new o.ARRAY_TYPE(16);return b[0]=t,b[1]=n,b[2]=r,b[3]=a,b[4]=e,b[5]=i,b[6]=u,b[7]=s,b[8]=c,b[9]=h,b[10]=f,b[11]=M,b[12]=d,b[13]=l,b[14]=v,b[15]=m,b},n.set=function(t,n,r,a,e,o,i,u,s,c,h,f,M,d,l,v,m){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t[9]=h,t[10]=f,t[11]=M,t[12]=d,t[13]=l,t[14]=v,t[15]=m,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.transpose=function(t,n){if(t===n){var r=n[1],a=n[2],e=n[3],o=n[6],i=n[7],u=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=r,t[6]=n[9],t[7]=n[13],t[8]=a,t[9]=o,t[11]=n[14],t[12]=e,t[13]=i,t[14]=u}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],o=n[3],i=n[4],u=n[5],s=n[6],c=n[7],h=n[8],f=n[9],M=n[10],d=n[11],l=n[12],v=n[13],m=n[14],b=n[15],p=r*u-a*i,R=r*s-e*i,E=r*c-o*i,_=a*s-e*u,w=a*c-o*u,O=e*c-o*s,S=h*v-f*l,A=h*m-M*l,P=h*b-d*l,y=f*m-M*v,L=f*b-d*v,I=M*b-d*m,x=p*I-R*L+E*y+_*P-w*A+O*S;return x?(x=1/x,t[0]=(u*I-s*L+c*y)*x,t[1]=(e*L-a*I-o*y)*x,t[2]=(v*O-m*w+b*_)*x,t[3]=(M*w-f*O-d*_)*x,t[4]=(s*P-i*I-c*A)*x,t[5]=(r*I-e*P+o*A)*x,t[6]=(m*E-l*O-b*R)*x,t[7]=(h*O-M*E+d*R)*x,t[8]=(i*L-u*P+c*S)*x,t[9]=(a*P-r*L-o*S)*x,t[10]=(l*w-v*E+b*p)*x,t[11]=(f*E-h*w-d*p)*x,t[12]=(u*A-i*y-s*S)*x,t[13]=(r*y-a*A+e*S)*x,t[14]=(v*R-l*_-m*p)*x,t[15]=(h*_-f*R+M*p)*x,t):null},n.adjoint=function(t,n){var r=n[0],a=n[1],e=n[2],o=n[3],i=n[4],u=n[5],s=n[6],c=n[7],h=n[8],f=n[9],M=n[10],d=n[11],l=n[12],v=n[13],m=n[14],b=n[15];return t[0]=u*(M*b-d*m)-f*(s*b-c*m)+v*(s*d-c*M),t[1]=-(a*(M*b-d*m)-f*(e*b-o*m)+v*(e*d-o*M)),t[2]=a*(s*b-c*m)-u*(e*b-o*m)+v*(e*c-o*s),t[3]=-(a*(s*d-c*M)-u*(e*d-o*M)+f*(e*c-o*s)),t[4]=-(i*(M*b-d*m)-h*(s*b-c*m)+l*(s*d-c*M)),t[5]=r*(M*b-d*m)-h*(e*b-o*m)+l*(e*d-o*M),t[6]=-(r*(s*b-c*m)-i*(e*b-o*m)+l*(e*c-o*s)),t[7]=r*(s*d-c*M)-i*(e*d-o*M)+h*(e*c-o*s),t[8]=i*(f*b-d*v)-h*(u*b-c*v)+l*(u*d-c*f),t[9]=-(r*(f*b-d*v)-h*(a*b-o*v)+l*(a*d-o*f)),t[10]=r*(u*b-c*v)-i*(a*b-o*v)+l*(a*c-o*u),t[11]=-(r*(u*d-c*f)-i*(a*d-o*f)+h*(a*c-o*u)),t[12]=-(i*(f*m-M*v)-h*(u*m-s*v)+l*(u*M-s*f)),t[13]=r*(f*m-M*v)-h*(a*m-e*v)+l*(a*M-e*f),t[14]=-(r*(u*m-s*v)-i*(a*m-e*v)+l*(a*s-e*u)),t[15]=r*(u*M-s*f)-i*(a*M-e*f)+h*(a*s-e*u),t},n.determinant=function(t){var n=t[0],r=t[1],a=t[2],e=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8],h=t[9],f=t[10],M=t[11],d=t[12],l=t[13],v=t[14],m=t[15];return(n*i-r*o)*(f*m-M*v)-(n*u-a*o)*(h*m-M*l)+(n*s-e*o)*(h*v-f*l)+(r*u-a*i)*(c*m-M*d)-(r*s-e*i)*(c*v-f*d)+(a*s-e*u)*(c*l-h*d)},n.multiply=a,n.translate=function(t,n,r){var a=r[0],e=r[1],o=r[2],i=void 0,u=void 0,s=void 0,c=void 0,h=void 0,f=void 0,M=void 0,d=void 0,l=void 0,v=void 0,m=void 0,b=void 0;return n===t?(t[12]=n[0]*a+n[4]*e+n[8]*o+n[12],t[13]=n[1]*a+n[5]*e+n[9]*o+n[13],t[14]=n[2]*a+n[6]*e+n[10]*o+n[14],t[15]=n[3]*a+n[7]*e+n[11]*o+n[15]):(i=n[0],u=n[1],s=n[2],c=n[3],h=n[4],f=n[5],M=n[6],d=n[7],l=n[8],v=n[9],m=n[10],b=n[11],t[0]=i,t[1]=u,t[2]=s,t[3]=c,t[4]=h,t[5]=f,t[6]=M,t[7]=d,t[8]=l,t[9]=v,t[10]=m,t[11]=b,t[12]=i*a+h*e+l*o+n[12],t[13]=u*a+f*e+v*o+n[13],t[14]=s*a+M*e+m*o+n[14],t[15]=c*a+d*e+b*o+n[15]),t},n.scale=function(t,n,r){var a=r[0],e=r[1],o=r[2];return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},n.rotate=function(t,n,r,a){var e=a[0],i=a[1],u=a[2],s=Math.sqrt(e*e+i*i+u*u),c=void 0,h=void 0,f=void 0,M=void 0,d=void 0,l=void 0,v=void 0,m=void 0,b=void 0,p=void 0,R=void 0,E=void 0,_=void 0,w=void 0,O=void 0,S=void 0,A=void 0,P=void 0,y=void 0,L=void 0,I=void 0,x=void 0,g=void 0,q=void 0;return Math.abs(s)<o.EPSILON?null:(e*=s=1/s,i*=s,u*=s,c=Math.sin(r),f=1-(h=Math.cos(r)),M=n[0],d=n[1],l=n[2],v=n[3],m=n[4],b=n[5],p=n[6],R=n[7],E=n[8],_=n[9],w=n[10],O=n[11],S=e*e*f+h,A=i*e*f+u*c,P=u*e*f-i*c,y=e*i*f-u*c,L=i*i*f+h,I=u*i*f+e*c,x=e*u*f+i*c,g=i*u*f-e*c,q=u*u*f+h,t[0]=M*S+m*A+E*P,t[1]=d*S+b*A+_*P,t[2]=l*S+p*A+w*P,t[3]=v*S+R*A+O*P,t[4]=M*y+m*L+E*I,t[5]=d*y+b*L+_*I,t[6]=l*y+p*L+w*I,t[7]=v*y+R*L+O*I,t[8]=M*x+m*g+E*q,t[9]=d*x+b*g+_*q,t[10]=l*x+p*g+w*q,t[11]=v*x+R*g+O*q,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)},n.rotateX=function(t,n,r){var a=Math.sin(r),e=Math.cos(r),o=n[4],i=n[5],u=n[6],s=n[7],c=n[8],h=n[9],f=n[10],M=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*e+c*a,t[5]=i*e+h*a,t[6]=u*e+f*a,t[7]=s*e+M*a,t[8]=c*e-o*a,t[9]=h*e-i*a,t[10]=f*e-u*a,t[11]=M*e-s*a,t},n.rotateY=function(t,n,r){var a=Math.sin(r),e=Math.cos(r),o=n[0],i=n[1],u=n[2],s=n[3],c=n[8],h=n[9],f=n[10],M=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*e-c*a,t[1]=i*e-h*a,t[2]=u*e-f*a,t[3]=s*e-M*a,t[8]=o*a+c*e,t[9]=i*a+h*e,t[10]=u*a+f*e,t[11]=s*a+M*e,t},n.rotateZ=function(t,n,r){var a=Math.sin(r),e=Math.cos(r),o=n[0],i=n[1],u=n[2],s=n[3],c=n[4],h=n[5],f=n[6],M=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*e+c*a,t[1]=i*e+h*a,t[2]=u*e+f*a,t[3]=s*e+M*a,t[4]=c*e-o*a,t[5]=h*e-i*a,t[6]=f*e-u*a,t[7]=M*e-s*a,t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotation=function(t,n,r){var a=r[0],e=r[1],i=r[2],u=Math.sqrt(a*a+e*e+i*i),s=void 0,c=void 0,h=void 0;return Math.abs(u)<o.EPSILON?null:(a*=u=1/u,e*=u,i*=u,s=Math.sin(n),h=1-(c=Math.cos(n)),t[0]=a*a*h+c,t[1]=e*a*h+i*s,t[2]=i*a*h-e*s,t[3]=0,t[4]=a*e*h-i*s,t[5]=e*e*h+c,t[6]=i*e*h+a*s,t[7]=0,t[8]=a*i*h+e*s,t[9]=e*i*h-a*s,t[10]=i*i*h+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},n.fromXRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromYRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromZRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotationTranslation=function(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3],u=a+a,s=e+e,c=o+o,h=a*u,f=a*s,M=a*c,d=e*s,l=e*c,v=o*c,m=i*u,b=i*s,p=i*c;return t[0]=1-(d+v),t[1]=f+p,t[2]=M-b,t[3]=0,t[4]=f-p,t[5]=1-(h+v),t[6]=l+m,t[7]=0,t[8]=M+b,t[9]=l-m,t[10]=1-(h+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},n.getTranslation=function(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t},n.getScaling=function(t,n){var r=n[0],a=n[1],e=n[2],o=n[4],i=n[5],u=n[6],s=n[8],c=n[9],h=n[10];return t[0]=Math.sqrt(r*r+a*a+e*e),t[1]=Math.sqrt(o*o+i*i+u*u),t[2]=Math.sqrt(s*s+c*c+h*h),t},n.getRotation=function(t,n){var r=n[0]+n[5]+n[10],a=0;return r>0?(a=2*Math.sqrt(r+1),t[3]=.25*a,t[0]=(n[6]-n[9])/a,t[1]=(n[8]-n[2])/a,t[2]=(n[1]-n[4])/a):n[0]>n[5]&n[0]>n[10]?(a=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/a,t[0]=.25*a,t[1]=(n[1]+n[4])/a,t[2]=(n[8]+n[2])/a):n[5]>n[10]?(a=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/a,t[0]=(n[1]+n[4])/a,t[1]=.25*a,t[2]=(n[6]+n[9])/a):(a=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/a,t[0]=(n[8]+n[2])/a,t[1]=(n[6]+n[9])/a,t[2]=.25*a),t},n.fromRotationTranslationScale=function(t,n,r,a){var e=n[0],o=n[1],i=n[2],u=n[3],s=e+e,c=o+o,h=i+i,f=e*s,M=e*c,d=e*h,l=o*c,v=o*h,m=i*h,b=u*s,p=u*c,R=u*h,E=a[0],_=a[1],w=a[2];return t[0]=(1-(l+m))*E,t[1]=(M+R)*E,t[2]=(d-p)*E,t[3]=0,t[4]=(M-R)*_,t[5]=(1-(f+m))*_,t[6]=(v+b)*_,t[7]=0,t[8]=(d+p)*w,t[9]=(v-b)*w,t[10]=(1-(f+l))*w,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},n.fromRotationTranslationScaleOrigin=function(t,n,r,a,e){var o=n[0],i=n[1],u=n[2],s=n[3],c=o+o,h=i+i,f=u+u,M=o*c,d=o*h,l=o*f,v=i*h,m=i*f,b=u*f,p=s*c,R=s*h,E=s*f,_=a[0],w=a[1],O=a[2],S=e[0],A=e[1],P=e[2];return t[0]=(1-(v+b))*_,t[1]=(d+E)*_,t[2]=(l-R)*_,t[3]=0,t[4]=(d-E)*w,t[5]=(1-(M+b))*w,t[6]=(m+p)*w,t[7]=0,t[8]=(l+R)*O,t[9]=(m-p)*O,t[10]=(1-(M+v))*O,t[11]=0,t[12]=r[0]+S-(t[0]*S+t[4]*A+t[8]*P),t[13]=r[1]+A-(t[1]*S+t[5]*A+t[9]*P),t[14]=r[2]+P-(t[2]*S+t[6]*A+t[10]*P),t[15]=1,t},n.fromQuat=function(t,n){var r=n[0],a=n[1],e=n[2],o=n[3],i=r+r,u=a+a,s=e+e,c=r*i,h=a*i,f=a*u,M=e*i,d=e*u,l=e*s,v=o*i,m=o*u,b=o*s;return t[0]=1-f-l,t[1]=h+b,t[2]=M-m,t[3]=0,t[4]=h-b,t[5]=1-c-l,t[6]=d+v,t[7]=0,t[8]=M+m,t[9]=d-v,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.frustum=function(t,n,r,a,e,o,i){var u=1/(r-n),s=1/(e-a),c=1/(o-i);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(r+n)*u,t[9]=(e+a)*s,t[10]=(i+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*c,t[15]=0,t},n.perspective=function(t,n,r,a,e){var o=1/Math.tan(n/2),i=1/(a-e);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(e+a)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*e*a*i,t[15]=0,t},n.perspectiveFromFieldOfView=function(t,n,r,a){var e=Math.tan(n.upDegrees*Math.PI/180),o=Math.tan(n.downDegrees*Math.PI/180),i=Math.tan(n.leftDegrees*Math.PI/180),u=Math.tan(n.rightDegrees*Math.PI/180),s=2/(i+u),c=2/(e+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(i-u)*s*.5,t[9]=(e-o)*c*.5,t[10]=a/(r-a),t[11]=-1,t[12]=0,t[13]=0,t[14]=a*r/(r-a),t[15]=0,t},n.ortho=function(t,n,r,a,e,o,i){var u=1/(n-r),s=1/(a-e),c=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+r)*u,t[13]=(e+a)*s,t[14]=(i+o)*c,t[15]=1,t},n.lookAt=function(t,n,r,a){var e=void 0,i=void 0,u=void 0,s=void 0,c=void 0,h=void 0,f=void 0,M=void 0,d=void 0,l=void 0,v=n[0],m=n[1],b=n[2],p=a[0],R=a[1],E=a[2],_=r[0],w=r[1],O=r[2];return Math.abs(v-_)<o.EPSILON&&Math.abs(m-w)<o.EPSILON&&Math.abs(b-O)<o.EPSILON?mat4.identity(t):(f=v-_,M=m-w,d=b-O,e=R*(d*=l=1/Math.sqrt(f*f+M*M+d*d))-E*(M*=l),i=E*(f*=l)-p*d,u=p*M-R*f,(l=Math.sqrt(e*e+i*i+u*u))?(e*=l=1/l,i*=l,u*=l):(e=0,i=0,u=0),s=M*u-d*i,c=d*e-f*u,h=f*i-M*e,(l=Math.sqrt(s*s+c*c+h*h))?(s*=l=1/l,c*=l,h*=l):(s=0,c=0,h=0),t[0]=e,t[1]=s,t[2]=f,t[3]=0,t[4]=i,t[5]=c,t[6]=M,t[7]=0,t[8]=u,t[9]=h,t[10]=d,t[11]=0,t[12]=-(e*v+i*m+u*b),t[13]=-(s*v+c*m+h*b),t[14]=-(f*v+M*m+d*b),t[15]=1,t)},n.targetTo=function(t,n,r,a){var e=n[0],o=n[1],i=n[2],u=a[0],s=a[1],c=a[2],h=e-r[0],f=o-r[1],M=i-r[2],d=h*h+f*f+M*M;d>0&&(h*=d=1/Math.sqrt(d),f*=d,M*=d);var l=s*M-c*f,v=c*h-u*M,m=u*f-s*h;return t[0]=l,t[1]=v,t[2]=m,t[3]=0,t[4]=f*m-M*v,t[5]=M*l-h*m,t[6]=h*v-f*l,t[7]=0,t[8]=h,t[9]=f,t[10]=M,t[11]=0,t[12]=e,t[13]=o,t[14]=i,t[15]=1,t},n.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t[9]=n[9]+r[9],t[10]=n[10]+r[10],t[11]=n[11]+r[11],t[12]=n[12]+r[12],t[13]=n[13]+r[13],t[14]=n[14]+r[14],t[15]=n[15]+r[15],t},n.subtract=e,n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t[9]=n[9]*r,t[10]=n[10]*r,t[11]=n[11]*r,t[12]=n[12]*r,t[13]=n[13]*r,t[14]=n[14]*r,t[15]=n[15]*r,t},n.multiplyScalarAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t[4]=n[4]+r[4]*a,t[5]=n[5]+r[5]*a,t[6]=n[6]+r[6]*a,t[7]=n[7]+r[7]*a,t[8]=n[8]+r[8]*a,t[9]=n[9]+r[9]*a,t[10]=n[10]+r[10]*a,t[11]=n[11]+r[11]*a,t[12]=n[12]+r[12]*a,t[13]=n[13]+r[13]*a,t[14]=n[14]+r[14]*a,t[15]=n[15]+r[15]*a,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]},n.equals=function(t,n){var r=t[0],a=t[1],e=t[2],i=t[3],u=t[4],s=t[5],c=t[6],h=t[7],f=t[8],M=t[9],d=t[10],l=t[11],v=t[12],m=t[13],b=t[14],p=t[15],R=n[0],E=n[1],_=n[2],w=n[3],O=n[4],S=n[5],A=n[6],P=n[7],y=n[8],L=n[9],I=n[10],x=n[11],g=n[12],q=n[13],N=n[14],T=n[15];return Math.abs(r-R)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(R))&&Math.abs(a-E)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(e-_)<=o.EPSILON*Math.max(1,Math.abs(e),Math.abs(_))&&Math.abs(i-w)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(u-O)<=o.EPSILON*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(s-S)<=o.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(c-A)<=o.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(h-P)<=o.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(f-y)<=o.EPSILON*Math.max(1,Math.abs(f),Math.abs(y))&&Math.abs(M-L)<=o.EPSILON*Math.max(1,Math.abs(M),Math.abs(L))&&Math.abs(d-I)<=o.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(l-x)<=o.EPSILON*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(v-g)<=o.EPSILON*Math.max(1,Math.abs(v),Math.abs(g))&&Math.abs(m-q)<=o.EPSILON*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(b-N)<=o.EPSILON*Math.max(1,Math.abs(b),Math.abs(N))&&Math.abs(p-T)<=o.EPSILON*Math.max(1,Math.abs(p),Math.abs(T))};var o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));n.mul=a,n.sub=e},function(t,n,r){"use strict";function a(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}function e(){var t=new c.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function o(t,n,r){r*=.5;var a=Math.sin(r);return t[0]=a*n[0],t[1]=a*n[1],t[2]=a*n[2],t[3]=Math.cos(r),t}function i(t,n,r){var a=n[0],e=n[1],o=n[2],i=n[3],u=r[0],s=r[1],c=r[2],h=r[3];return t[0]=a*h+i*u+e*c-o*s,t[1]=e*h+i*s+o*u-a*c,t[2]=o*h+i*c+a*s-e*u,t[3]=i*h-a*u-e*s-o*c,t}function u(t,n,r,a){var e=n[0],o=n[1],i=n[2],u=n[3],s=r[0],c=r[1],h=r[2],f=r[3],M=void 0,d=void 0,l=void 0,v=void 0,m=void 0;return(d=e*s+o*c+i*h+u*f)<0&&(d=-d,s=-s,c=-c,h=-h,f=-f),1-d>1e-6?(M=Math.acos(d),l=Math.sin(M),v=Math.sin((1-a)*M)/l,m=Math.sin(a*M)/l):(v=1-a,m=a),t[0]=v*e+m*s,t[1]=v*o+m*c,t[2]=v*i+m*h,t[3]=v*u+m*f,t}function s(t,n){var r=n[0]+n[4]+n[8],a=void 0;if(r>0)a=Math.sqrt(r+1),t[3]=.5*a,a=.5/a,t[0]=(n[5]-n[7])*a,t[1]=(n[6]-n[2])*a,t[2]=(n[1]-n[3])*a;else{var e=0;n[4]>n[0]&&(e=1),n[8]>n[3*e+e]&&(e=2);var o=(e+1)%3,i=(e+2)%3;a=Math.sqrt(n[3*e+e]-n[3*o+o]-n[3*i+i]+1),t[e]=.5*a,a=.5/a,t[3]=(n[3*o+i]-n[3*i+o])*a,t[o]=(n[3*o+e]+n[3*e+o])*a,t[i]=(n[3*i+e]+n[3*e+i])*a}return t}Object.defineProperty(n,"__esModule",{value:!0}),n.setAxes=n.sqlerp=n.rotationTo=n.equals=n.exactEquals=n.normalize=n.sqrLen=n.squaredLength=n.len=n.length=n.lerp=n.dot=n.scale=n.mul=n.add=n.set=n.copy=n.fromValues=n.clone=void 0,n.create=e,n.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},n.setAxisAngle=o,n.getAxisAngle=function(t,n){var r=2*Math.acos(n[3]),a=Math.sin(r/2);return 0!=a?(t[0]=n[0]/a,t[1]=n[1]/a,t[2]=n[2]/a):(t[0]=1,t[1]=0,t[2]=0),r},n.multiply=i,n.rotateX=function(t,n,r){r*=.5;var a=n[0],e=n[1],o=n[2],i=n[3],u=Math.sin(r),s=Math.cos(r);return t[0]=a*s+i*u,t[1]=e*s+o*u,t[2]=o*s-e*u,t[3]=i*s-a*u,t},n.rotateY=function(t,n,r){r*=.5;var a=n[0],e=n[1],o=n[2],i=n[3],u=Math.sin(r),s=Math.cos(r);return t[0]=a*s-o*u,t[1]=e*s+i*u,t[2]=o*s+a*u,t[3]=i*s-e*u,t},n.rotateZ=function(t,n,r){r*=.5;var a=n[0],e=n[1],o=n[2],i=n[3],u=Math.sin(r),s=Math.cos(r);return t[0]=a*s+e*u,t[1]=e*s-a*u,t[2]=o*s+i*u,t[3]=i*s-o*u,t},n.calculateW=function(t,n){var r=n[0],a=n[1],e=n[2];return t[0]=r,t[1]=a,t[2]=e,t[3]=Math.sqrt(Math.abs(1-r*r-a*a-e*e)),t},n.slerp=u,n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],o=n[3],i=r*r+a*a+e*e+o*o,u=i?1/i:0;return t[0]=-r*u,t[1]=-a*u,t[2]=-e*u,t[3]=o*u,t},n.conjugate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t},n.fromMat3=s,n.fromEuler=function(t,n,r,a){var e=.5*Math.PI/180;n*=e,r*=e,a*=e;var o=Math.sin(n),i=Math.cos(n),u=Math.sin(r),s=Math.cos(r),c=Math.sin(a),h=Math.cos(a);return t[0]=o*s*h-i*u*c,t[1]=i*u*h+o*s*c,t[2]=i*s*c-o*u*h,t[3]=i*s*h+o*u*c,t},n.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};var c=a(r(0)),h=a(r(1)),f=a(r(2)),M=a(r(3)),d=(n.clone=M.clone,n.fromValues=M.fromValues,n.copy=M.copy,n.set=M.set,n.add=M.add,n.mul=i,n.scale=M.scale,n.dot=M.dot,n.lerp=M.lerp,n.length=M.length),l=(n.len=d,n.squaredLength=M.squaredLength),v=(n.sqrLen=l,n.normalize=M.normalize);n.exactEquals=M.exactEquals,n.equals=M.equals,n.rotationTo=function(){var t=f.create(),n=f.fromValues(1,0,0),r=f.fromValues(0,1,0);return function(a,e,i){var u=f.dot(e,i);return u<-.999999?(f.cross(t,n,e),f.len(t)<1e-6&&f.cross(t,r,e),f.normalize(t,t),o(a,t,Math.PI),a):u>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(f.cross(t,e,i),a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1+u,v(a,a))}}(),n.sqlerp=function(){var t=e(),n=e();return function(r,a,e,o,i,s){return u(t,a,i,s),u(n,e,o,s),u(r,t,n,2*s*(1-s)),r}}(),n.setAxes=function(){var t=h.create();return function(n,r,a,e){return t[0]=a[0],t[3]=a[1],t[6]=a[2],t[1]=e[0],t[4]=e[1],t[7]=e[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],v(n,s(n,t))}}()},function(t,n,r){"use strict";function a(){var t=new f.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function e(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t}function o(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t}function i(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t}function u(t,n){var r=n[0]-t[0],a=n[1]-t[1];return Math.sqrt(r*r+a*a)}function s(t,n){var r=n[0]-t[0],a=n[1]-t[1];return r*r+a*a}function c(t){var n=t[0],r=t[1];return Math.sqrt(n*n+r*r)}function h(t){var n=t[0],r=t[1];return n*n+r*r}Object.defineProperty(n,"__esModule",{value:!0}),n.forEach=n.sqrLen=n.sqrDist=n.dist=n.div=n.mul=n.sub=n.len=void 0,n.create=a,n.clone=function(t){var n=new f.ARRAY_TYPE(2);return n[0]=t[0],n[1]=t[1],n},n.fromValues=function(t,n){var r=new f.ARRAY_TYPE(2);return r[0]=t,r[1]=n,r},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t},n.set=function(t,n,r){return t[0]=n,t[1]=r,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t},n.subtract=e,n.multiply=o,n.divide=i,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t},n.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t},n.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t},n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t},n.scaleAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t},n.distance=u,n.squaredDistance=s,n.length=c,n.squaredLength=h,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t},n.normalize=function(t,n){var r=n[0],a=n[1],e=r*r+a*a;return e>0&&(e=1/Math.sqrt(e),t[0]=n[0]*e,t[1]=n[1]*e),t},n.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]},n.cross=function(t,n,r){var a=n[0]*r[1]-n[1]*r[0];return t[0]=t[1]=0,t[2]=a,t},n.lerp=function(t,n,r,a){var e=n[0],o=n[1];return t[0]=e+a*(r[0]-e),t[1]=o+a*(r[1]-o),t},n.random=function(t,n){n=n||1;var r=2*f.RANDOM()*Math.PI;return t[0]=Math.cos(r)*n,t[1]=Math.sin(r)*n,t},n.transformMat2=function(t,n,r){var a=n[0],e=n[1];return t[0]=r[0]*a+r[2]*e,t[1]=r[1]*a+r[3]*e,t},n.transformMat2d=function(t,n,r){var a=n[0],e=n[1];return t[0]=r[0]*a+r[2]*e+r[4],t[1]=r[1]*a+r[3]*e+r[5],t},n.transformMat3=function(t,n,r){var a=n[0],e=n[1];return t[0]=r[0]*a+r[3]*e+r[6],t[1]=r[1]*a+r[4]*e+r[7],t},n.transformMat4=function(t,n,r){var a=n[0],e=n[1];return t[0]=r[0]*a+r[4]*e+r[12],t[1]=r[1]*a+r[5]*e+r[13],t},n.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]},n.equals=function(t,n){var r=t[0],a=t[1],e=n[0],o=n[1];return Math.abs(r-e)<=f.EPSILON*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(a-o)<=f.EPSILON*Math.max(1,Math.abs(a),Math.abs(o))};var f=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));n.len=c,n.sub=e,n.mul=o,n.div=i,n.dist=u,n.sqrDist=s,n.sqrLen=h,n.forEach=function(){var t=a();return function(n,r,a,e,o,i){var u,s=void 0;for(r||(r=2),a||(a=0),u=e?Math.min(e*r+a,n.length):n.length,s=a;s<u;s+=r)t[0]=n[s],t[1]=n[s+1],o(t,t,i),n[s]=t[0],n[s+1]=t[1];return n}}()}])}),function(){var t,n,r,a,e,o,i,u;t=function(){throw Array.prototype.slice.call(arguments).join(" ")},e=0,a=function(){return e++},r=function(t){if(!(this instanceof r))return new r(t);for(o="VENDOR,VERSION,SHADING_LANGUAGE_VERSION,RENDERER,MAX_VERTEX_ATTRIBS,MAX_VARYING_VECTORS,MAX_VERTEX_UNIFORM_VECTORS,MAX_VERTEX_TEXTURE_IMAGE_UNITS,MAX_FRAGMENT_UNIFORM_VECTORS,MAX_TEXTURE_SIZE,MAX_CUBE_MAP_TEXTURE_SIZE,MAX_COMBINED_TEXTURE_IMAGE_UNITS,MAX_TEXTURE_IMAGE_UNITS,MAX_RENDERBUFFER_SIZE,MAX_VIEWPORT_DIMS,RED_BITS,GREEN_BITS,BLUE_BITS,ALPHA_BITS,DEPTH_BITS,STENCIL_BITS".split(","),i=o.length;i--;)this[u=o[i]]=t.getParameter(t[u])},n=function(){var t,n,r,a,e,o;return n={alpha:!1,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!1,preserveDrawingBuffer:!1,powerPreference:"default",failIfMajorPerformanceCaveat:!1},t="webkit-3d,moz-webgl,3d,experimental-webgl,webgl,webgl2".split(","),function(i,u){if(o=JSON.parse(JSON.stringify(n)),e=t.length,u)for(e in u)o[e]=u[e];for(;e--;)if(r=i.getContext(a=t[e],o))return r.mode=a,r;return null}}(),(RedGL=function(a,e,o){var i,u;if(!(this instanceof RedGL))return new RedGL(a,e);a instanceof Element&&"CANVAS"==a.tagName||t("캔버스 엘리먼트만 허용됩니다."),u=this,this.gl=i=n(a),i&&(this._detect=r(i,o)),this._datas={},this._UUID=RedGL.makeUUID(),requestAnimationFrame(function(t){e&&e.call(u,!!i)})}).throwFunc=t,RedGL.makeUUID=a,RedGL.extendsProto=function(t,n){for(var r in n.prototype)t.prototype[r]=n.prototype[r]},RedGL.prototype={},Object.freeze(RedGL)}(),(RedBaseContainer=function(){}).prototype={addChild:function(t){},addChildAt:function(t){},removeChild:function(t){},removeChildAt:function(t){},getChildAt:function(t){},getChildIndex:function(t){},getChildByName:function(){},setChildIndex:function(t){},numChildren:function(t){}},Object.freeze(RedBaseContainer),function(){var t,n,r,a,e;(RedBaseObject3D=function(){}).prototype={lookAt:(e=.5*Math.PI,function(o,i,u){t=o-this.x,n=i-this.y,r=u-this.z,a=Math.atan2(r,Math.sqrt(t*t+n*n)),this.rotationX=a-e,this.rotationY=0,this.rotationZ=-Math.atan2(t,n)})},Object.freeze(RedBaseObject3D)}(),function(){var t,n,r,a,e;(RedRenderer=function(){if(!(this instanceof RedRenderer))return new RedRenderer;this.world=null,this._tickKey=null,this._UUID=RedGL.makeUUID(),Object.seal(this)}).prototype={start:(t=function(a){n.render(r,a),n._tickKey=requestAnimationFrame(t)},function(a){a instanceof RedGL||RedGL.throwFunc("RedGL 인스턴스만 허용"),a.world instanceof RedWorld||RedGL.throwFunc("RedWorld 인스턴스만 허용"),(n=this).world=a.world,r=a.gl,n._tickKey=requestAnimationFrame(t)}),stop:function(){cancelAnimationFrame(this._tickKey)}},RedRenderer.prototype.render=(a=[],e=mat4.create(),function(t,n){[0,0,t.drawingBufferWidth,t.drawingBufferHeight],t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.world._viewList.forEach(function(t){var n;a[0]=t._x,a[1]=t._y,a[2]=t._width,a[3]=t._height,t.scene,n=t.camera,mat4.identity(e),mat4.perspective(e,n.fov*Math.PI/180,a[2]/a[3],n.nearClipping,n.farClipping)})}),Object.freeze(RedRenderer)}(),function(){var t,n,r,a,e;a=function(t,n){switch(n){case RedShader.VERTEX:return t.createShader(t.VERTEX_SHADER);case RedShader.FRAGMENT:return t.createShader(t.FRAGMENT_SHADER);default:RedGL.throwFunc("RedShader : 쉐이더 타입을 확인하세요!")}},e=function(t,n,r){t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)||RedGL.throwFunc(t.getShaderInfoLog(n),"쉐이더 컴파일에 실패하였습니다.")},(RedShader=function(o,i,u,s){if(!(this instanceof RedShader))return new RedShader(o,i,u,s);if(!(o instanceof RedGL))throw"RedShader : RedGL 인스턴스만 허용됩니다.";if("string"!=typeof i)throw"RedShader : key - 문자열만 허용됩니다.";if("string"!=typeof u)throw"RedShader : type - 문자열만 허용됩니다.";if("string"!=typeof s)throw"RedShader : source - 문자열만 허용됩니다.";r=o.gl,t={},s.match(/attribute[\s\S]+?\;|uniform[\s\S]+?\;/g).forEach(function(n){var r,a,e=n.split(" ");t[e[0]]||(t[e[0]]=[],t[e[0]].map={}),r=e[2].replace(";","").split("[")[0],a=e[1],t[e[0]].push({dataType:a,name:r}),t[e[0]].map[r]=n}),n=a(r,u),e(r,n,s),this.parseData=t,this._UUID=RedGL.makeUUID(),this.key=i,this.type=u,this.shader=n,Object.freeze(this)}).FRAGMENT="fragmentShader",RedShader.VERTEX="vertexShader",Object.freeze(RedShader)}(),function(){var t;(RedCamera=function(){if(!(this instanceof RedCamera))return new RedCamera;this.x=this.y=this.z=0,this.rotationX=this.rotationY=this.rotationZ=0,this.fov=Math.PI/2,this.nearClipping=.01,this.farClipping=1e4,this.orthographic=!1,this.matrix=mat4.create(),this._UUID=RedGL.makeUUID()}).prototype={updateMatrix:function(){t=mat4.identity(this.matrix),mat4.translate(t,t,[this.x,this.y,this.z]),mat4.rotateX(t,t,this.rotationX),mat4.rotateY(t,t,this.rotationY),mat4.rotateZ(t,t,this.rotationZ)}},RedGL.extendsProto(RedCamera,RedBaseObject3D),Object.freeze(RedCamera)}(),function(){var t;t={},(RedView=function(n,r,a){if(t[n]){if(!r&&!a)return t[n];RedGL.throwFunc(n,"는 이미 생성된 RedView key입니다.")}if(!(this instanceof RedView))return new RedView(n,r,a);"string"!=typeof n&&RedGL.throwFunc("key : 문자열만 허용"),r||a||RedGL.throwFunc("존재하지 않는 key입니다."),!r||r instanceof RedScene||RedGL.throwFunc("RedScene 인스턴스만 허용"),!a||a instanceof RedCamera||RedGL.throwFunc("RedCamera 인스턴스만 허용"),this.key=n,this.scene=r,this.camera=a,this._width="100%",this._height="100%",this._x=0,this._y=0,t[n]=this,Object.seal(this)}).prototype={setSize:function(t,n){this._width=void 0!=t?t:"100%",this._height=void 0!=n?n:"100%"},setLocation:function(t,n){this._x=void 0!=t?t:0,this._y=void 0!=n?n:0}},Object.freeze(RedView)}(),(RedWorld=function(){if(!(this instanceof RedWorld))return new RedWorld;this._viewList=[],this._viewMap={},this._UUID=RedGL.makeUUID(),Object.seal(this)}).prototype={addView:function(t){return t instanceof RedView||RedGL.throwFunc("RedView 인스턴스만 허용함."),this._viewMap[t.key]=t,this._viewList.push(t),this},getView:function(t){return this._viewMap[t]},delView:function(t){var n,r;return(n=this._viewMap[t])&&(r=this._viewList.indexOf(n),this._viewList.splice(r,1),delete this._viewMap[t]),this},hasView:function(t){return!!this._viewMap[t]},getViewList:function(){return this._viewList.concat()}},Object.freeze(RedWorld),(RedScene=function(){if(!(this instanceof RedScene))return new RedScene;this.children=[],this._UUID=RedGL.makeUUID(),Object.seal(this)}).prototype={},RedGL.extendsProto(RedScene,RedBaseContainer),Object.freeze(RedScene);console.log('LOGIN Release. last update(2018-03-19 12:43:05)');