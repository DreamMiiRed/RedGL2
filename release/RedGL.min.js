var RedGLUtil,RedGL,RedBaseContainer,RedBaseObject3D,RedBuffer,RedGeometry,RedMaterial,RedColorMaterial,RedBitmapMaterial,RedMesh,RedProgram,RedSystemShaderCode,RedShader,RedRenderer,RedBitmapTexture,RedView,RedWorld,RedScene,RedCamera;!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*a},e.equals=function(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))};var n=e.EPSILON=1e-6,a=(e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random,Math.PI/180)},function(t,e,r){"use strict";function n(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],d=r[0],l=r[1],M=r[2],R=r[3],m=r[4],v=r[5],p=r[6],E=r[7],b=r[8];return t[0]=d*n+l*o+M*c,t[1]=d*a+l*u+M*f,t[2]=d*i+l*s+M*h,t[3]=R*n+m*o+v*c,t[4]=R*a+m*u+v*f,t[5]=R*i+m*s+v*h,t[6]=p*n+E*o+b*c,t[7]=p*a+E*u+b*f,t[8]=p*i+E*s+b*h,t}function a(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new i.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new i.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,r,n,a,o,u,s,c){var f=new i.ARRAY_TYPE(9);return f[0]=t,f[1]=e,f[2]=r,f[3]=n,f[4]=a,f[5]=o,f[6]=u,f[7]=s,f[8]=c,f},e.set=function(t,e,r,n,a,i,o,u,s,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t[6]=u,t[7]=s,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],h=f*o-u*c,d=-f*i+u*s,l=c*i-o*s,M=r*h+n*d+a*l;return M?(M=1/M,t[0]=h*M,t[1]=(-f*n+a*c)*M,t[2]=(u*n-a*o)*M,t[3]=d*M,t[4]=(f*r-a*s)*M,t[5]=(-u*r+a*i)*M,t[6]=l*M,t[7]=(-c*r+n*s)*M,t[8]=(o*r-n*i)*M,t):null},e.adjoint=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8];return t[0]=o*f-u*c,t[1]=a*c-n*f,t[2]=n*u-a*o,t[3]=u*s-i*f,t[4]=r*f-a*s,t[5]=a*i-r*u,t[6]=i*c-o*s,t[7]=n*s-r*c,t[8]=r*o-n*i,t},e.determinant=function(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],o=t[5],u=t[6],s=t[7],c=t[8];return e*(c*i-o*s)+r*(-c*a+o*u)+n*(s*a-i*u)},e.multiply=n,e.translate=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],d=r[0],l=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=u,t[5]=s,t[6]=d*n+l*o+c,t[7]=d*a+l*u+f,t[8]=d*i+l*s+h,t},e.rotate=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],d=Math.sin(r),l=Math.cos(r);return t[0]=l*n+d*o,t[1]=l*a+d*u,t[2]=l*i+d*s,t[3]=l*o-d*n,t[4]=l*u-d*a,t[5]=l*s-d*i,t[6]=c,t[7]=f,t[8]=h,t},e.scale=function(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r+r,u=n+n,s=a+a,c=r*o,f=n*o,h=n*u,d=a*o,l=a*u,M=a*s,R=i*o,m=i*u,v=i*s;return t[0]=1-h-M,t[3]=f-v,t[6]=d+m,t[1]=f+v,t[4]=1-c-M,t[7]=l-R,t[2]=d-m,t[5]=l+R,t[8]=1-c-h,t},e.normalFromMat4=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],h=e[9],d=e[10],l=e[11],M=e[12],R=e[13],m=e[14],v=e[15],p=r*u-n*o,E=r*s-a*o,b=r*c-i*o,_=n*s-a*u,T=n*c-i*u,y=a*c-i*s,U=f*R-h*M,L=f*m-d*M,A=f*v-l*M,g=h*m-d*R,w=h*v-l*R,S=d*v-l*m,I=p*S-E*w+b*g+_*A-T*L+y*U;return I?(I=1/I,t[0]=(u*S-s*w+c*g)*I,t[1]=(s*A-o*S-c*L)*I,t[2]=(o*w-u*A+c*U)*I,t[3]=(a*w-n*S-i*g)*I,t[4]=(r*S-a*A+i*L)*I,t[5]=(n*A-r*w-i*U)*I,t[6]=(R*y-m*T+v*_)*I,t[7]=(m*b-M*y-v*E)*I,t[8]=(M*T-R*b+v*p)*I,t):null},e.projection=function(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},e.subtract=a,e.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var r=t[0],n=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],h=t[8],d=e[0],l=e[1],M=e[2],R=e[3],m=e[4],v=e[5],p=e[6],E=e[7],b=e[8];return Math.abs(r-d)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-l)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(a-M)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(o-R)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(R))&&Math.abs(u-m)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(s-v)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(c-p)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(p))&&Math.abs(f-E)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(h-b)<=i.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));e.mul=n,e.sub=a},function(t,e,r){"use strict";function n(){var t=new M.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function a(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function i(t,e,r){var n=new M.ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=r,n}function o(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function u(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function s(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function c(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(r*r+n*n+a*a)}function f(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return r*r+n*n+a*a}function h(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function d(t,e){var r=e[0],n=e[1],a=e[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}function l(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=n,e.clone=function(t){var e=new M.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=a,e.fromValues=i,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},e.subtract=o,e.multiply=u,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},e.distance=c,e.squaredDistance=f,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=l,e.cross=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[0],u=r[1],s=r[2];return t[0]=a*s-i*u,t[1]=i*o-n*s,t[2]=n*u-a*o,t},e.lerp=function(t,e,r,n){var a=e[0],i=e[1],o=e[2];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=o+n*(r[2]-o),t},e.hermite=function(t,e,r,n,a,i){var o=i*i,u=o*(2*i-3)+1,s=o*(i-2)+i,c=o*(i-1),f=o*(3-2*i);return t[0]=e[0]*u+r[0]*s+n[0]*c+a[0]*f,t[1]=e[1]*u+r[1]*s+n[1]*c+a[1]*f,t[2]=e[2]*u+r[2]*s+n[2]*c+a[2]*f,t},e.bezier=function(t,e,r,n,a,i){var o=1-i,u=o*o,s=i*i,c=u*o,f=3*i*u,h=3*s*o,d=s*i;return t[0]=e[0]*c+r[0]*f+n[0]*h+a[0]*d,t[1]=e[1]*c+r[1]*f+n[1]*h+a[1]*d,t[2]=e[2]*c+r[2]*f+n[2]*h+a[2]*d,t},e.random=function(t,e){e=e||1;var r=2*M.RANDOM()*Math.PI,n=2*M.RANDOM()-1,a=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=n*e,t},e.transformMat4=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,t[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,t[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,t},e.transformMat3=function(t,e,r){var n=e[0],a=e[1],i=e[2];return t[0]=n*r[0]+a*r[3]+i*r[6],t[1]=n*r[1]+a*r[4]+i*r[7],t[2]=n*r[2]+a*r[5]+i*r[8],t},e.transformQuat=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[0],u=r[1],s=r[2],c=r[3],f=c*n+u*i-s*a,h=c*a+s*n-o*i,d=c*i+o*a-u*n,l=-o*n-u*a-s*i;return t[0]=f*c+l*-o+h*-s-d*-u,t[1]=h*c+l*-u+d*-o-f*-s,t[2]=d*c+l*-s+f*-u-h*-o,t},e.rotateX=function(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.rotateY=function(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.rotateZ=function(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.angle=function(t,e){var r=i(t[0],t[1],t[2]),n=i(e[0],e[1],e[2]);d(r,r),d(n,n);var a=l(r,n);return a>1?0:a<-1?Math.PI:Math.acos(a)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var r=t[0],n=t[1],a=t[2],i=e[0],o=e[1],u=e[2];return Math.abs(r-i)<=M.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=M.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-u)<=M.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))};var M=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));e.sub=o,e.mul=u,e.div=s,e.dist=c,e.sqrDist=f,e.len=a,e.sqrLen=h,e.forEach=function(){var t=n();return function(e,r,n,a,i,o){var u,s=void 0;for(r||(r=3),n||(n=0),u=a?Math.min(a*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],i(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,e,r){"use strict";function n(){var t=new l.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function a(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function i(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function o(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function u(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function s(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(r*r+n*n+a*a+i*i)}function c(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return r*r+n*n+a*a+i*i}function f(t){var e=t[0],r=t[1],n=t[2],a=t[3];return Math.sqrt(e*e+r*r+n*n+a*a)}function h(t){var e=t[0],r=t[1],n=t[2],a=t[3];return e*e+r*r+n*n+a*a}function d(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r*r+n*n+a*a+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=r*o,t[1]=n*o,t[2]=a*o,t[3]=i*o),t}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=n,e.clone=function(t){var e=new l.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.fromValues=function(t,e,r,n){var a=new l.ARRAY_TYPE(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.set=function(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},e.subtract=a,e.multiply=i,e.divide=o,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},e.scale=u,e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},e.distance=s,e.squaredDistance=c,e.length=f,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},e.normalize=d,e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},e.lerp=function(t,e,r,n){var a=e[0],i=e[1],o=e[2],u=e[3];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=o+n*(r[2]-o),t[3]=u+n*(r[3]-u),t},e.random=function(t,e){return e=e||1,t[0]=l.RANDOM(),t[1]=l.RANDOM(),t[2]=l.RANDOM(),t[3]=l.RANDOM(),d(t,t),u(t,t,e),t},e.transformMat4=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3];return t[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,t[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,t[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,t[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,t},e.transformQuat=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[0],u=r[1],s=r[2],c=r[3],f=c*n+u*i-s*a,h=c*a+s*n-o*i,d=c*i+o*a-u*n,l=-o*n-u*a-s*i;return t[0]=f*c+l*-o+h*-s-d*-u,t[1]=h*c+l*-u+d*-o-f*-s,t[2]=d*c+l*-s+f*-u-h*-o,t[3]=e[3],t},e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=e[0],u=e[1],s=e[2],c=e[3];return Math.abs(r-o)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-u)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(i-c)<=l.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))};var l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));e.sub=a,e.mul=i,e.div=o,e.dist=s,e.sqrDist=c,e.len=f,e.sqrLen=h,e.forEach=function(){var t=n();return function(e,r,n,a,i,o){var u,s=void 0;for(r||(r=4),n||(n=0),u=a?Math.min(a*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],i(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}()},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var a=n(r(0)),i=n(r(5)),o=n(r(6)),u=n(r(1)),s=n(r(7)),c=n(r(8)),f=n(r(9)),h=n(r(2)),d=n(r(3));e.glMatrix=a,e.mat2=i,e.mat2d=o,e.mat3=u,e.mat4=s,e.quat=c,e.vec2=f,e.vec3=h,e.vec4=d},function(t,e,r){"use strict";function n(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=r[0],s=r[1],c=r[2],f=r[3];return t[0]=n*u+i*s,t[1]=a*u+o*s,t[2]=n*c+i*f,t[3]=a*c+o*f,t}function a(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new i.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.clone=function(t){var e=new i.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.fromValues=function(t,e,r,n){var a=new i.ARRAY_TYPE(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a},e.set=function(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t},e.transpose=function(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},e.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r*i-a*n;return o?(o=1/o,t[0]=i*o,t[1]=-n*o,t[2]=-a*o,t[3]=r*o,t):null},e.adjoint=function(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t},e.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},e.multiply=n,e.rotate=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(r),s=Math.cos(r);return t[0]=n*s+i*u,t[1]=a*s+o*u,t[2]=n*-u+i*s,t[3]=a*-u+o*s,t},e.scale=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=r[0],s=r[1];return t[0]=n*u,t[1]=a*u,t[2]=i*s,t[3]=o*s,t},e.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},e.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},e.LDU=function(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},e.subtract=a,e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){var r=t[0],n=t[1],a=t[2],o=t[3],u=e[0],s=e[1],c=e[2],f=e[3];return Math.abs(r-u)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-s)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-c)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-f)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))},e.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));e.mul=n,e.sub=a},function(t,e,r){"use strict";function n(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],c=r[0],f=r[1],h=r[2],d=r[3],l=r[4],M=r[5];return t[0]=n*c+i*f,t[1]=a*c+o*f,t[2]=n*h+i*d,t[3]=a*h+o*d,t[4]=n*l+i*M+u,t[5]=a*l+o*M+s,t}function a(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new i.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.clone=function(t){var e=new i.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.fromValues=function(t,e,r,n,a,o){var u=new i.ARRAY_TYPE(6);return u[0]=t,u[1]=e,u[2]=r,u[3]=n,u[4]=a,u[5]=o,u},e.set=function(t,e,r,n,a,i,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t},e.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=r*i-n*a;return s?(s=1/s,t[0]=i*s,t[1]=-n*s,t[2]=-a*s,t[3]=r*s,t[4]=(a*u-i*o)*s,t[5]=(n*o-r*u)*s,t):null},e.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.multiply=n,e.rotate=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],c=Math.sin(r),f=Math.cos(r);return t[0]=n*f+i*c,t[1]=a*f+o*c,t[2]=n*-c+i*f,t[3]=a*-c+o*f,t[4]=u,t[5]=s,t},e.scale=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],c=r[0],f=r[1];return t[0]=n*c,t[1]=a*c,t[2]=i*f,t[3]=o*f,t[4]=u,t[5]=s,t},e.translate=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],c=r[0],f=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=n*c+i*f+u,t[5]=a*c+o*f+s,t},e.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},e.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t},e.subtract=a,e.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},e.equals=function(t,e){var r=t[0],n=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=e[0],f=e[1],h=e[2],d=e[3],l=e[4],M=e[5];return Math.abs(r-c)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-f)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(a-h)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-d)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(u-l)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(l))&&Math.abs(s-M)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));e.mul=n,e.sub=a},function(t,e,r){"use strict";function n(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],d=e[9],l=e[10],M=e[11],R=e[12],m=e[13],v=e[14],p=e[15],E=r[0],b=r[1],_=r[2],T=r[3];return t[0]=E*n+b*u+_*h+T*R,t[1]=E*a+b*s+_*d+T*m,t[2]=E*i+b*c+_*l+T*v,t[3]=E*o+b*f+_*M+T*p,E=r[4],b=r[5],_=r[6],T=r[7],t[4]=E*n+b*u+_*h+T*R,t[5]=E*a+b*s+_*d+T*m,t[6]=E*i+b*c+_*l+T*v,t[7]=E*o+b*f+_*M+T*p,E=r[8],b=r[9],_=r[10],T=r[11],t[8]=E*n+b*u+_*h+T*R,t[9]=E*a+b*s+_*d+T*m,t[10]=E*i+b*c+_*l+T*v,t[11]=E*o+b*f+_*M+T*p,E=r[12],b=r[13],_=r[14],T=r[15],t[12]=E*n+b*u+_*h+T*R,t[13]=E*a+b*s+_*d+T*m,t[14]=E*i+b*c+_*l+T*v,t[15]=E*o+b*f+_*M+T*p,t}function a(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new i.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.clone=function(t){var e=new i.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.fromValues=function(t,e,r,n,a,o,u,s,c,f,h,d,l,M,R,m){var v=new i.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=r,v[3]=n,v[4]=a,v[5]=o,v[6]=u,v[7]=s,v[8]=c,v[9]=f,v[10]=h,v[11]=d,v[12]=l,v[13]=M,v[14]=R,v[15]=m,v},e.set=function(t,e,r,n,a,i,o,u,s,c,f,h,d,l,M,R,m){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t[6]=u,t[7]=s,t[8]=c,t[9]=f,t[10]=h,t[11]=d,t[12]=l,t[13]=M,t[14]=R,t[15]=m,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],a=e[3],i=e[6],o=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},e.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],h=e[9],d=e[10],l=e[11],M=e[12],R=e[13],m=e[14],v=e[15],p=r*u-n*o,E=r*s-a*o,b=r*c-i*o,_=n*s-a*u,T=n*c-i*u,y=a*c-i*s,U=f*R-h*M,L=f*m-d*M,A=f*v-l*M,g=h*m-d*R,w=h*v-l*R,S=d*v-l*m,I=p*S-E*w+b*g+_*A-T*L+y*U;return I?(I=1/I,t[0]=(u*S-s*w+c*g)*I,t[1]=(a*w-n*S-i*g)*I,t[2]=(R*y-m*T+v*_)*I,t[3]=(d*T-h*y-l*_)*I,t[4]=(s*A-o*S-c*L)*I,t[5]=(r*S-a*A+i*L)*I,t[6]=(m*b-M*y-v*E)*I,t[7]=(f*y-d*b+l*E)*I,t[8]=(o*w-u*A+c*U)*I,t[9]=(n*A-r*w-i*U)*I,t[10]=(M*T-R*b+v*p)*I,t[11]=(h*b-f*T-l*p)*I,t[12]=(u*L-o*g-s*U)*I,t[13]=(r*g-n*L+a*U)*I,t[14]=(R*E-M*_-m*p)*I,t[15]=(f*_-h*E+d*p)*I,t):null},e.adjoint=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],h=e[9],d=e[10],l=e[11],M=e[12],R=e[13],m=e[14],v=e[15];return t[0]=u*(d*v-l*m)-h*(s*v-c*m)+R*(s*l-c*d),t[1]=-(n*(d*v-l*m)-h*(a*v-i*m)+R*(a*l-i*d)),t[2]=n*(s*v-c*m)-u*(a*v-i*m)+R*(a*c-i*s),t[3]=-(n*(s*l-c*d)-u*(a*l-i*d)+h*(a*c-i*s)),t[4]=-(o*(d*v-l*m)-f*(s*v-c*m)+M*(s*l-c*d)),t[5]=r*(d*v-l*m)-f*(a*v-i*m)+M*(a*l-i*d),t[6]=-(r*(s*v-c*m)-o*(a*v-i*m)+M*(a*c-i*s)),t[7]=r*(s*l-c*d)-o*(a*l-i*d)+f*(a*c-i*s),t[8]=o*(h*v-l*R)-f*(u*v-c*R)+M*(u*l-c*h),t[9]=-(r*(h*v-l*R)-f*(n*v-i*R)+M*(n*l-i*h)),t[10]=r*(u*v-c*R)-o*(n*v-i*R)+M*(n*c-i*u),t[11]=-(r*(u*l-c*h)-o*(n*l-i*h)+f*(n*c-i*u)),t[12]=-(o*(h*m-d*R)-f*(u*m-s*R)+M*(u*d-s*h)),t[13]=r*(h*m-d*R)-f*(n*m-a*R)+M*(n*d-a*h),t[14]=-(r*(u*m-s*R)-o*(n*m-a*R)+M*(n*s-a*u)),t[15]=r*(u*d-s*h)-o*(n*d-a*h)+f*(n*s-a*u),t},e.determinant=function(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],o=t[5],u=t[6],s=t[7],c=t[8],f=t[9],h=t[10],d=t[11],l=t[12],M=t[13],R=t[14],m=t[15];return(e*o-r*i)*(h*m-d*R)-(e*u-n*i)*(f*m-d*M)+(e*s-a*i)*(f*R-h*M)+(r*u-n*o)*(c*m-d*l)-(r*s-a*o)*(c*R-h*l)+(n*s-a*u)*(c*M-f*l)},e.multiply=n,e.translate=function(t,e,r){var n=r[0],a=r[1],i=r[2],o=void 0,u=void 0,s=void 0,c=void 0,f=void 0,h=void 0,d=void 0,l=void 0,M=void 0,R=void 0,m=void 0,v=void 0;return e===t?(t[12]=e[0]*n+e[4]*a+e[8]*i+e[12],t[13]=e[1]*n+e[5]*a+e[9]*i+e[13],t[14]=e[2]*n+e[6]*a+e[10]*i+e[14],t[15]=e[3]*n+e[7]*a+e[11]*i+e[15]):(o=e[0],u=e[1],s=e[2],c=e[3],f=e[4],h=e[5],d=e[6],l=e[7],M=e[8],R=e[9],m=e[10],v=e[11],t[0]=o,t[1]=u,t[2]=s,t[3]=c,t[4]=f,t[5]=h,t[6]=d,t[7]=l,t[8]=M,t[9]=R,t[10]=m,t[11]=v,t[12]=o*n+f*a+M*i+e[12],t[13]=u*n+h*a+R*i+e[13],t[14]=s*n+d*a+m*i+e[14],t[15]=c*n+l*a+v*i+e[15]),t},e.scale=function(t,e,r){var n=r[0],a=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.rotate=function(t,e,r,n){var a=n[0],o=n[1],u=n[2],s=Math.sqrt(a*a+o*o+u*u),c=void 0,f=void 0,h=void 0,d=void 0,l=void 0,M=void 0,R=void 0,m=void 0,v=void 0,p=void 0,E=void 0,b=void 0,_=void 0,T=void 0,y=void 0,U=void 0,L=void 0,A=void 0,g=void 0,w=void 0,S=void 0,I=void 0,P=void 0,x=void 0;return Math.abs(s)<i.EPSILON?null:(a*=s=1/s,o*=s,u*=s,c=Math.sin(r),h=1-(f=Math.cos(r)),d=e[0],l=e[1],M=e[2],R=e[3],m=e[4],v=e[5],p=e[6],E=e[7],b=e[8],_=e[9],T=e[10],y=e[11],U=a*a*h+f,L=o*a*h+u*c,A=u*a*h-o*c,g=a*o*h-u*c,w=o*o*h+f,S=u*o*h+a*c,I=a*u*h+o*c,P=o*u*h-a*c,x=u*u*h+f,t[0]=d*U+m*L+b*A,t[1]=l*U+v*L+_*A,t[2]=M*U+p*L+T*A,t[3]=R*U+E*L+y*A,t[4]=d*g+m*w+b*S,t[5]=l*g+v*w+_*S,t[6]=M*g+p*w+T*S,t[7]=R*g+E*w+y*S,t[8]=d*I+m*P+b*x,t[9]=l*I+v*P+_*x,t[10]=M*I+p*P+T*x,t[11]=R*I+E*P+y*x,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},e.rotateX=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[4],o=e[5],u=e[6],s=e[7],c=e[8],f=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+c*n,t[5]=o*a+f*n,t[6]=u*a+h*n,t[7]=s*a+d*n,t[8]=c*a-i*n,t[9]=f*a-o*n,t[10]=h*a-u*n,t[11]=d*a-s*n,t},e.rotateY=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],u=e[2],s=e[3],c=e[8],f=e[9],h=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-c*n,t[1]=o*a-f*n,t[2]=u*a-h*n,t[3]=s*a-d*n,t[8]=i*n+c*a,t[9]=o*n+f*a,t[10]=u*n+h*a,t[11]=s*n+d*a,t},e.rotateZ=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],u=e[2],s=e[3],c=e[4],f=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+c*n,t[1]=o*a+f*n,t[2]=u*a+h*n,t[3]=s*a+d*n,t[4]=c*a-i*n,t[5]=f*a-o*n,t[6]=h*a-u*n,t[7]=d*a-s*n,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,e,r){var n=r[0],a=r[1],o=r[2],u=Math.sqrt(n*n+a*a+o*o),s=void 0,c=void 0,f=void 0;return Math.abs(u)<i.EPSILON?null:(n*=u=1/u,a*=u,o*=u,s=Math.sin(e),f=1-(c=Math.cos(e)),t[0]=n*n*f+c,t[1]=a*n*f+o*s,t[2]=o*n*f-a*s,t[3]=0,t[4]=n*a*f-o*s,t[5]=a*a*f+c,t[6]=o*a*f+n*s,t[7]=0,t[8]=n*o*f+a*s,t[9]=a*o*f-n*s,t[10]=o*o*f+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},e.fromXRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=n+n,s=a+a,c=i+i,f=n*u,h=n*s,d=n*c,l=a*s,M=a*c,R=i*c,m=o*u,v=o*s,p=o*c;return t[0]=1-(l+R),t[1]=h+p,t[2]=d-v,t[3]=0,t[4]=h-p,t[5]=1-(f+R),t[6]=M+m,t[7]=0,t[8]=d+v,t[9]=M-m,t[10]=1-(f+l),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},e.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},e.getScaling=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[4],o=e[5],u=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.sqrt(r*r+n*n+a*a),t[1]=Math.sqrt(i*i+o*o+u*u),t[2]=Math.sqrt(s*s+c*c+f*f),t},e.getRotation=function(t,e){var r=e[0]+e[5]+e[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t},e.fromRotationTranslationScale=function(t,e,r,n){var a=e[0],i=e[1],o=e[2],u=e[3],s=a+a,c=i+i,f=o+o,h=a*s,d=a*c,l=a*f,M=i*c,R=i*f,m=o*f,v=u*s,p=u*c,E=u*f,b=n[0],_=n[1],T=n[2];return t[0]=(1-(M+m))*b,t[1]=(d+E)*b,t[2]=(l-p)*b,t[3]=0,t[4]=(d-E)*_,t[5]=(1-(h+m))*_,t[6]=(R+v)*_,t[7]=0,t[8]=(l+p)*T,t[9]=(R-v)*T,t[10]=(1-(h+M))*T,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,e,r,n,a){var i=e[0],o=e[1],u=e[2],s=e[3],c=i+i,f=o+o,h=u+u,d=i*c,l=i*f,M=i*h,R=o*f,m=o*h,v=u*h,p=s*c,E=s*f,b=s*h,_=n[0],T=n[1],y=n[2],U=a[0],L=a[1],A=a[2];return t[0]=(1-(R+v))*_,t[1]=(l+b)*_,t[2]=(M-E)*_,t[3]=0,t[4]=(l-b)*T,t[5]=(1-(d+v))*T,t[6]=(m+p)*T,t[7]=0,t[8]=(M+E)*y,t[9]=(m-p)*y,t[10]=(1-(d+R))*y,t[11]=0,t[12]=r[0]+U-(t[0]*U+t[4]*L+t[8]*A),t[13]=r[1]+L-(t[1]*U+t[5]*L+t[9]*A),t[14]=r[2]+A-(t[2]*U+t[6]*L+t[10]*A),t[15]=1,t},e.fromQuat=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r+r,u=n+n,s=a+a,c=r*o,f=n*o,h=n*u,d=a*o,l=a*u,M=a*s,R=i*o,m=i*u,v=i*s;return t[0]=1-h-M,t[1]=f+v,t[2]=d-m,t[3]=0,t[4]=f-v,t[5]=1-c-M,t[6]=l+R,t[7]=0,t[8]=d+m,t[9]=l-R,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,e,r,n,a,i,o){var u=1/(r-e),s=1/(a-n),c=1/(i-o);return t[0]=2*i*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*s,t[6]=0,t[7]=0,t[8]=(r+e)*u,t[9]=(a+n)*s,t[10]=(o+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*c,t[15]=0,t},e.perspective=function(t,e,r,n,a){var i=1/Math.tan(e/2),o=1/(n-a);return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+n)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*n*o,t[15]=0,t},e.perspectiveFromFieldOfView=function(t,e,r,n){var a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(o+u),c=2/(a+i);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-u)*s*.5,t[9]=(a-i)*c*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},e.ortho=function(t,e,r,n,a,i,o){var u=1/(e-r),s=1/(n-a),c=1/(i-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*u,t[13]=(a+n)*s,t[14]=(o+i)*c,t[15]=1,t},e.lookAt=function(t,e,r,n){var a=void 0,o=void 0,u=void 0,s=void 0,c=void 0,f=void 0,h=void 0,d=void 0,l=void 0,M=void 0,R=e[0],m=e[1],v=e[2],p=n[0],E=n[1],b=n[2],_=r[0],T=r[1],y=r[2];return Math.abs(R-_)<i.EPSILON&&Math.abs(m-T)<i.EPSILON&&Math.abs(v-y)<i.EPSILON?mat4.identity(t):(h=R-_,d=m-T,l=v-y,a=E*(l*=M=1/Math.sqrt(h*h+d*d+l*l))-b*(d*=M),o=b*(h*=M)-p*l,u=p*d-E*h,(M=Math.sqrt(a*a+o*o+u*u))?(a*=M=1/M,o*=M,u*=M):(a=0,o=0,u=0),s=d*u-l*o,c=l*a-h*u,f=h*o-d*a,(M=Math.sqrt(s*s+c*c+f*f))?(s*=M=1/M,c*=M,f*=M):(s=0,c=0,f=0),t[0]=a,t[1]=s,t[2]=h,t[3]=0,t[4]=o,t[5]=c,t[6]=d,t[7]=0,t[8]=u,t[9]=f,t[10]=l,t[11]=0,t[12]=-(a*R+o*m+u*v),t[13]=-(s*R+c*m+f*v),t[14]=-(h*R+d*m+l*v),t[15]=1,t)},e.targetTo=function(t,e,r,n){var a=e[0],i=e[1],o=e[2],u=n[0],s=n[1],c=n[2],f=a-r[0],h=i-r[1],d=o-r[2],l=f*f+h*h+d*d;l>0&&(f*=l=1/Math.sqrt(l),h*=l,d*=l);var M=s*d-c*h,R=c*f-u*d,m=u*h-s*f;return t[0]=M,t[1]=R,t[2]=m,t[3]=0,t[4]=h*m-d*R,t[5]=d*M-f*m,t[6]=f*R-h*M,t[7]=0,t[8]=f,t[9]=h,t[10]=d,t[11]=0,t[12]=a,t[13]=i,t[14]=o,t[15]=1,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t},e.subtract=a,e.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},e.equals=function(t,e){var r=t[0],n=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],h=t[8],d=t[9],l=t[10],M=t[11],R=t[12],m=t[13],v=t[14],p=t[15],E=e[0],b=e[1],_=e[2],T=e[3],y=e[4],U=e[5],L=e[6],A=e[7],g=e[8],w=e[9],S=e[10],I=e[11],P=e[12],x=e[13],O=e[14],G=e[15];return Math.abs(r-E)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(E))&&Math.abs(n-b)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(a-_)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(o-T)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(u-y)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(s-U)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(U))&&Math.abs(c-L)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(L))&&Math.abs(f-A)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(h-g)<=i.EPSILON*Math.max(1,Math.abs(h),Math.abs(g))&&Math.abs(d-w)<=i.EPSILON*Math.max(1,Math.abs(d),Math.abs(w))&&Math.abs(l-S)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(M-I)<=i.EPSILON*Math.max(1,Math.abs(M),Math.abs(I))&&Math.abs(R-P)<=i.EPSILON*Math.max(1,Math.abs(R),Math.abs(P))&&Math.abs(m-x)<=i.EPSILON*Math.max(1,Math.abs(m),Math.abs(x))&&Math.abs(v-O)<=i.EPSILON*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(p-G)<=i.EPSILON*Math.max(1,Math.abs(p),Math.abs(G))};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));e.mul=n,e.sub=a},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function a(){var t=new c.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function i(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function o(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=r[0],s=r[1],c=r[2],f=r[3];return t[0]=n*f+o*u+a*c-i*s,t[1]=a*f+o*s+i*u-n*c,t[2]=i*f+o*c+n*s-a*u,t[3]=o*f-n*u-a*s-i*c,t}function u(t,e,r,n){var a=e[0],i=e[1],o=e[2],u=e[3],s=r[0],c=r[1],f=r[2],h=r[3],d=void 0,l=void 0,M=void 0,R=void 0,m=void 0;return(l=a*s+i*c+o*f+u*h)<0&&(l=-l,s=-s,c=-c,f=-f,h=-h),1-l>1e-6?(d=Math.acos(l),M=Math.sin(d),R=Math.sin((1-n)*d)/M,m=Math.sin(n*d)/M):(R=1-n,m=n),t[0]=R*a+m*s,t[1]=R*i+m*c,t[2]=R*o+m*f,t[3]=R*u+m*h,t}function s(t,e){var r=e[0]+e[4]+e[8],n=void 0;if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;n=Math.sqrt(e[3*a+a]-e[3*i+i]-e[3*o+o]+1),t[a]=.5*n,n=.5/n,t[3]=(e[3*i+o]-e[3*o+i])*n,t[i]=(e[3*i+a]+e[3*a+i])*n,t[o]=(e[3*o+a]+e[3*a+o])*n}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.setAxes=e.sqlerp=e.rotationTo=e.equals=e.exactEquals=e.normalize=e.sqrLen=e.squaredLength=e.len=e.length=e.lerp=e.dot=e.scale=e.mul=e.add=e.set=e.copy=e.fromValues=e.clone=void 0,e.create=a,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.setAxisAngle=i,e.getAxisAngle=function(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return 0!=n?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r},e.multiply=o,e.rotateX=function(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(r),s=Math.cos(r);return t[0]=n*s+o*u,t[1]=a*s+i*u,t[2]=i*s-a*u,t[3]=o*s-n*u,t},e.rotateY=function(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(r),s=Math.cos(r);return t[0]=n*s-i*u,t[1]=a*s+o*u,t[2]=i*s+n*u,t[3]=o*s-a*u,t},e.rotateZ=function(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(r),s=Math.cos(r);return t[0]=n*s+a*u,t[1]=a*s-n*u,t[2]=i*s+o*u,t[3]=o*s-i*u,t},e.calculateW=function(t,e){var r=e[0],n=e[1],a=e[2];return t[0]=r,t[1]=n,t[2]=a,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),t},e.slerp=u,e.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r*r+n*n+a*a+i*i,u=o?1/o:0;return t[0]=-r*u,t[1]=-n*u,t[2]=-a*u,t[3]=i*u,t},e.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},e.fromMat3=s,e.fromEuler=function(t,e,r,n){var a=.5*Math.PI/180;e*=a,r*=a,n*=a;var i=Math.sin(e),o=Math.cos(e),u=Math.sin(r),s=Math.cos(r),c=Math.sin(n),f=Math.cos(n);return t[0]=i*s*f-o*u*c,t[1]=o*u*f+i*s*c,t[2]=o*s*c-i*u*f,t[3]=o*s*f+i*u*c,t},e.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};var c=n(r(0)),f=n(r(1)),h=n(r(2)),d=n(r(3)),l=(e.clone=d.clone,e.fromValues=d.fromValues,e.copy=d.copy,e.set=d.set,e.add=d.add,e.mul=o,e.scale=d.scale,e.dot=d.dot,e.lerp=d.lerp,e.length=d.length),M=(e.len=l,e.squaredLength=d.squaredLength),R=(e.sqrLen=M,e.normalize=d.normalize);e.exactEquals=d.exactEquals,e.equals=d.equals,e.rotationTo=function(){var t=h.create(),e=h.fromValues(1,0,0),r=h.fromValues(0,1,0);return function(n,a,o){var u=h.dot(a,o);return u<-.999999?(h.cross(t,e,a),h.len(t)<1e-6&&h.cross(t,r,a),h.normalize(t,t),i(n,t,Math.PI),n):u>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(h.cross(t,a,o),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+u,R(n,n))}}(),e.sqlerp=function(){var t=a(),e=a();return function(r,n,a,i,o,s){return u(t,n,o,s),u(e,a,i,s),u(r,t,e,2*s*(1-s)),r}}(),e.setAxes=function(){var t=f.create();return function(e,r,n,a){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],R(e,s(e,t))}}()},function(t,e,r){"use strict";function n(){var t=new h.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function a(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function i(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function o(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function u(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function s(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function c(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function f(t){var e=t[0],r=t[1];return e*e+r*r}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=n,e.clone=function(t){var e=new h.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var r=new h.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,r){return t[0]=e,t[1]=r,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},e.subtract=a,e.multiply=i,e.divide=o,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},e.distance=u,e.squaredDistance=s,e.length=c,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var r=e[0],n=e[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,e,r,n){var a=e[0],i=e[1];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t},e.random=function(t,e){e=e||1;var r=2*h.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t},e.transformMat2=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a,t[1]=r[1]*n+r[3]*a,t},e.transformMat2d=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a+r[4],t[1]=r[1]*n+r[3]*a+r[5],t},e.transformMat3=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[3]*a+r[6],t[1]=r[1]*n+r[4]*a+r[7],t},e.transformMat4=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[4]*a+r[12],t[1]=r[1]*n+r[5]*a+r[13],t},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var r=t[0],n=t[1],a=e[0],i=e[1];return Math.abs(r-a)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-i)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))};var h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));e.len=c,e.sub=a,e.mul=i,e.div=o,e.dist=u,e.sqrDist=s,e.sqrLen=f,e.forEach=function(){var t=n();return function(e,r,n,a,i,o){var u,s=void 0;for(r||(r=2),n||(n=0),u=a?Math.min(a*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],i(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}()}])}),RedGLUtil={throwFunc:function(){throw Array.prototype.slice.call(arguments).join(" ")},extendsProto:function(t,e){for(var r in e.prototype)t.prototype[r]=e.prototype[r]},hexToRGB:function(t,e){var r,n;if(void 0==e&&(e=1),"number"!=typeof e&&RedGLUtil.throwFunc("RedGLUtil.hexToRGB : 잘못된 alpha값입니다.",e),/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return n=[],3==(r=t.substring(1).split("")).length&&(r=[r[0],r[0],r[1],r[1],r[2],r[2]]),r="0x"+r.join(""),n[0]=(r>>16&255)/255,n[1]=(r>>8&255)/255,n[2]=(255&r)/255,n[3]=void 0==e?1:e,n;RedGLUtil.throwFunc("RedGLUtil.hexToRGB : 잘못된 hex값입니다.",t)}},Object.freeze(RedGLUtil),function(){var t,e,r,n,a,i,o,u,s,c,f,h,d;e=function(t){if(!(this instanceof e))return new e(t);for(n="VENDOR,VERSION,SHADING_LANGUAGE_VERSION,RENDERER,MAX_VERTEX_ATTRIBS,MAX_VARYING_VECTORS,MAX_VERTEX_UNIFORM_VECTORS,MAX_VERTEX_TEXTURE_IMAGE_UNITS,MAX_FRAGMENT_UNIFORM_VECTORS,MAX_TEXTURE_SIZE,MAX_CUBE_MAP_TEXTURE_SIZE,MAX_COMBINED_TEXTURE_IMAGE_UNITS,MAX_TEXTURE_IMAGE_UNITS,MAX_RENDERBUFFER_SIZE,MAX_VIEWPORT_DIMS,RED_BITS,GREEN_BITS,BLUE_BITS,ALPHA_BITS,DEPTH_BITS,STENCIL_BITS".split(","),a=n.length;a--;)this[i=n[a]]=t.getParameter(t[i])},t=function(){var t,e,r,n,a,i;return e={alpha:!1,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!1,preserveDrawingBuffer:!1,powerPreference:"default",failIfMajorPerformanceCaveat:!1},t="webkit-3d,moz-webgl,3d,experimental-webgl,webgl".split(","),function(o,u){if(i=JSON.parse(JSON.stringify(e)),a=t.length,u)for(a in u)i[a]=u[a];for(;a--;)if(r=o.getContext(n=t[a],i))return r.version=n,r;return null}}(),r=function(t){t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.frontFace(t.CCW),t.enable(t.CULL_FACE),t.cullFace(t.BACK),t.enable(t.SCISSOR_TEST),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0)},(RedGL=function(n,a,i){var o,u,s,c;if(!(this instanceof RedGL))return new RedGL(n,a);n instanceof Element&&"CANVAS"==n.tagName||RedGLUtil.throwFunc("RedGL : Canvas Element만 허용"),u=this,s=!0,c=1,this.canvas=n,Object.defineProperty(this,"renderScale",{get:function(){return c},set:function(t){c=t,this.setSize(this._width,this._height)}}),Object.defineProperty(this,"fullMode",{get:function(){return s},set:function(t){"boolean"!=typeof t&&RedGLUtil.throwFunc("RedGL : Boolean만 가능."),s=t,this.setSize(this._width,this._height)}}),this._width=500,this._height=500,this.gl=o=t(n),o&&(this._detect=e(o,i)),this._datas={},this._UUID=RedGL.makeUUID(),r(o),requestAnimationFrame(function(t){a&&a.call(u,!!o),window.addEventListener("resize",function(){u.setSize(u._width,u._height)}),u.setSize(u._width,u._height)})}).makeUUID=(o=0,function(){return o++}),RedGL.prototype={setSize:(c=0,f=0,function(t,e){this.fullMode?(u=document.documentElement?document.documentElement.clientWidth:document.body.clientWidth,s=window.innerHeight):(void 0==t&&RedGLUtil.throwFunc("RedGL : width가 입력되지 않았습니다."),void 0==e&&RedGLUtil.throwFunc("RedGL : height가 입력되지 않았습니다."),this._width=u=t,this._height=s=e),h=window.devicePixelRatio||1,d=this.canvas,c==u&&f==s||(d.width=u*h*this.renderScale,d.height=s*h*this.renderScale,d.style.width=u,d.style.height=s,c=u,f=s)})},Object.freeze(RedGL)}(),function(){var t;(RedBaseContainer=function(){}).prototype={addChild:function(e){e instanceof RedMesh||RedGLUtil.throwFunc("addChild","RedMesh Instance만 가능"),-1!=(t=this.children.indexOf(e))&&(e=this.children.splice(t,1)),this.children.push(e)},addChildAt:function(){var t;return function(e,r){e instanceof RedMesh||RedGLUtil.throwFunc("addChild","RedMesh Instance만 가능"),t=this.children.indexOf(e),this.children.splice(t,0,e)}}(),removeChild:function(){var t;return function(e){e instanceof RedMesh||RedGLUtil.throwFunc("addChild","RedMesh Instance만 가능"),-1==(t=this.children.indexOf(e))?RedGLUtil.throwFunc("removeChild","존재하지 않는 RedMesh를 삭제하려고 함"):this.children.splice(t,1)}}(),removeChildAt:function(){return function(t){"number"!=typeof t&&RedGLUtil.throwFunc("removeChildAt","index가 Number형이 아님 "),this.children.splice(void 0,1)}},removeChildAll:function(){this.children.length=0},getChildAt:function(t){return"number"!=typeof t&&RedGLUtil.throwFunc("getChildAt","index가 Number형이 아님 "),this.children[t]},getChildIndex:function(t){return t instanceof RedMesh||RedGLUtil.throwFunc("getChildIndex","RedMesh Instance만 가능"),this.children.indexOf(t)},numChildren:function(t){return this.children.length}},Object.freeze(RedBaseContainer)}(),function(){var t,e,r,n,a,i;(RedBaseObject3D=function(){}).prototype={lookAt:(i=180/Math.PI,a=.5*Math.PI,function(o,u,s){t=o-this.x,e=u-this.y,r=s-this.z,n=Math.atan2(r,Math.sqrt(t*t+e*e)),this.rotationX=(n-a)*i,this.rotationY=0,this.rotationZ=-Math.atan2(t,e)*i})},Object.freeze(RedBaseObject3D)}(),function(){var t,e,r,n,a;t=function(t,e,r){switch(e){case RedBuffer.ARRAY_BUFFER:if(r instanceof Float32Array||r instanceof Float64Array){if(r instanceof Float32Array)return t.FLOAT;if(r instanceof Float64Array)return t.FLOAT}else RedGLUtil.throwFunc("RedBuffer : 올바른 TypedArray(RedBuffer.ARRAY_BUFFER)형식을 사용해야합니다.");break;case RedBuffer.ELEMENT_ARRAY_BUFFER:if(r instanceof Uint8Array||r instanceof Uint16Array||r instanceof Uint32Array||r instanceof Int8Array||r instanceof Int16Array||r instanceof Int32Array){if(r instanceof Int8Array)return t.BYTE;if(r instanceof Uint8Array)return t.UNSIGNED_BYTE;if(r instanceof Uint16Array)return t.UNSIGNED_SHORT;if(r instanceof Uint32Array)return t.UNSIGNED_INT;if(r instanceof Int16Array)return t.SHORT;if(r instanceof Int32Array)return t.INT}else RedGLUtil.throwFunc("RedBuffer : 올바른 TypedArray(RedBuffer.ELEMENT_ARRAY_BUFFER)형식을 사용해야합니다.");break;default:RedGLUtil.throwFunc("RedBuffer : bufferType - 지원하지 않는 버퍼타입입니다. ")}},e=function(t,e){switch(e){case RedBuffer.ARRAY_BUFFER:return t.ARRAY_BUFFER;case RedBuffer.ELEMENT_ARRAY_BUFFER:return t.ELEMENT_ARRAY_BUFFER;default:RedGLUtil.throwFunc("RedBuffer : bufferType - 지원하지 않는 버퍼타입입니다. ")}},r=function(t,e,r,i){switch(n=0,e){case RedBuffer.ARRAY_BUFFER:if(t.interleaveDefineInfo=i,i){for(a in i)i[a].offset=n,n+=i[a].size;i.forEach(function(t){i[t.attributeKey]=t}),t.stride=n,t.pointNum=r.length/n}else RedGLUtil.throwFunc("RedBuffer : interleaveDefineInfo는 반드시 정의 되어야합니다.");break;case RedBuffer.ELEMENT_ARRAY_BUFFER:t.pointNum=r.length}},(RedBuffer=function(n,a,i,o,u){if(!(this instanceof RedBuffer))return new RedBuffer(n,a,i,o,u);n instanceof RedGL||RedGLUtil.throwFunc("RedBuffer : RedGL Instance만 허용됩니다."),"string"!=typeof o&&RedGLUtil.throwFunc("RedBuffer : bufferType - 문자열만 허용됩니다."),"string"!=typeof a&&RedGLUtil.throwFunc("RedBuffer : key - 문자열만 허용됩니다.");var s=n.gl;this.key=a,this.data=i,this.bufferType=o,this.glArrayType=t(s,this.bufferType,this.data),this.glBufferType=e(s,this.bufferType),this.drawMode=s.STATIC_DRAW,r(this,this.bufferType,this.data,u),this.webglBuffer=s.createBuffer(),this._UUID=RedGL.makeUUID(),this.updateData=function(e){this.glArrayType==t(s,o,e)?(this.data=e,s.bindBuffer(this.glBufferType,this.webglBuffer),s.bufferData(this.glBufferType,this.data,this.drawMode)):RedGLUtil.throwFunc("RedBuffer : updateData - data형식이 기존 형식과 다름",e)},this.updateData(this.data),Object.seal(this)}).ARRAY_BUFFER="arrayBuffer",RedBuffer.ELEMENT_ARRAY_BUFFER="elementArrayBuffer",Object.freeze(RedBuffer)}(),RedGeometry=function(t,e){if(!(this instanceof RedGeometry))return new RedGeometry(t,e);t instanceof RedBuffer?t.bufferType!=RedBuffer.ARRAY_BUFFER&&RedGLUtil.throwFunc("RedGeometry : interleaveBuffer - RedBuffer.ARRAY_BUFFER 타입만.",t):RedGLUtil.throwFunc("RedGeometry : interleaveBuffer - RedBuffer Instance만 허용.",t),e instanceof RedBuffer?e.bufferType!=RedBuffer.ELEMENT_ARRAY_BUFFER&&RedGLUtil.throwFunc("RedGeometry : indexBuffer - RedBuffer.ELEMENT_ARRAY_BUFFER 타입만.",e):RedGLUtil.throwFunc("RedGeometry : indexBuffer - RedBuffer Instance만 허용.",e),this.interleaveBuffer=t,this.indexBuffer=e,Object.freeze(this)},Object.freeze(RedGeometry),function(){var t;RedMaterial=function(e){if(!(this instanceof RedMaterial))return new RedMaterial(e);this.program=t(e),this.floatTest=1,this.floatTest2=[1,2,3,4,5],this.intTest=1,this.intTest2=[1,2,3,4,5],this.vec4Test=[0,0,0,0],this.mat4Test=mat4.create(),this._UUID=RedGL.makeUUID(),Object.seal(this)},t=function(t){var e,r;return e="\nattribute vec3 aVertexPosition;\nattribute vec4 aVertexColor;\nuniform float uFloatTest;\nuniform float uFloatTest2[10];\nuniform int uIntTest;\nuniform int uIntTest2[10];\nuniform vec4 uVec4Test;\nuniform mat4 uMat4Test;\nvarying vec4 vColor;\nvoid main(void) {\n    vColor = aVertexColor;\n    vColor.r= sin(uTime*0.01);\n    uFloatTest;\n    uFloatTest2;\n    uIntTest;\n    uIntTest2;\n    uVec4Test;\n    uMat4Test;\n    uResolution;\ngl_Position = uPMatrix * uCameraMatrix* uMVMatrix * vec4(aVertexPosition, 1.0);\n}\n        ",r="\nprecision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\ngl_FragColor = vColor;\n}\n        ",RedProgram(t,"testrProgram",RedShader(t,"testVs",RedShader.VERTEX,e),RedShader(t,"testFS",RedShader.FRAGMENT,r))},RedMaterial.prototype={},Object.freeze(RedMaterial)}(),function(){var t,e;RedColorMaterial=function(e,r,n){if(!(this instanceof RedColorMaterial))return new RedColorMaterial(e,r,n);this.program=t(e),this.color=new Float32Array(4),this.setColor(r,.5),this._UUID=RedGL.makeUUID(),Object.seal(this)},t=function(t){var e,r;return e="\nattribute vec3 aVertexPosition;\nuniform vec4 uColor;\nvarying vec4 vColor;\nvoid main(void) {\n    vColor = uColor;\n    gl_Position = uPMatrix * uCameraMatrix* uMVMatrix * vec4(aVertexPosition, 1.0);\n}\n            ",r="\nprecision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n    gl_FragColor = vColor;\n}\n            ",RedProgram(t,"colorProgram",RedShader(t,"colorVs",RedShader.VERTEX,e),RedShader(t,"colorFS",RedShader.FRAGMENT,r))},RedColorMaterial.prototype={setColor:function(t,r){t=t||"#ff2211",e=RedGLUtil.hexToRGB.call(this,t,r),this.color[0]=e[0],this.color[1]=e[1],this.color[2]=e[2],this.color[3]=e[3]}},Object.freeze(RedColorMaterial)}(),function(){var t;RedBitmapMaterial=function(e,r){if(!(this instanceof RedBitmapMaterial))return new RedBitmapMaterial(e,r);e instanceof RedGL||RedGLUtil.throwfunc("RedBitmapMaterial : RedGL Instance만 허용됩니다."),r instanceof RedBitmapTexture||RedGLUtil.throwfunc("RedBitmapMaterial : RedBitmapTexture Instance만 허용됩니다."),this.program=t(e),this.diffuse=r,this._UUID=RedGL.makeUUID(),Object.seal(this)},t=function(t){var e,r;return e="\nattribute vec3 aVertexPosition;\nattribute vec2 aTexcoord;\nvarying vec2 vTexcoord;\nvoid main(void) {\n    vTexcoord = aTexcoord;\n    gl_Position = uPMatrix * uCameraMatrix* uMVMatrix * vec4(aVertexPosition, 1.0);\n}\n            ",r="\nprecision mediump float;\nuniform sampler2D uDiffuse;\nvarying vec2 vTexcoord;\nvoid main(void) {\n    gl_FragColor = texture2D(uDiffuse, vTexcoord);\n}\n            ",RedProgram(t,"bitmapProgram",RedShader(t,"bitmapVs",RedShader.VERTEX,e),RedShader(t,"bitmapFS",RedShader.FRAGMENT,r))},RedBitmapMaterial.prototype={},Object.freeze(RedBitmapMaterial)}(),RedMesh=function(t,e){if(!(this instanceof RedMesh))return new RedMesh(t,e);this.geometry=t,this.material=e,this.x=this.y=this.z=0,this.rotationX=this.rotationY=this.rotationZ=0,this.scaleX=this.scaleY=this.scaleZ=1,this._UUID=RedGL.makeUUID()},RedGLUtil.extendsProto(RedMesh,RedBaseContainer),RedGLUtil.extendsProto(RedMesh,RedBaseObject3D),Object.freeze(RedMesh),function(){var t,e,r;t=function(t,r,n,a){return e=t.createProgram(),t.attachShader(e,n.webglShader),t.attachShader(e,a.webglShader),t.linkProgram(e),t.getProgramParameter(e,t.LINK_STATUS)||RedGLUtil.throwfunc("프로그램을 초기화 할 수 없습니다."),e.key=r,e.vShaderKey=n.key,e.fShaderKey=n.key,t.useProgram(e),e},(RedProgram=function(e,r,n,a){var i;return this instanceof RedProgram?(e instanceof RedGL||RedGLUtil.throwfunc("RedProgram : RedGL Instance만 허용됩니다."),"string"!=typeof r&&RedGLUtil.throwfunc("RedProgram : key - 문자열만 허용됩니다."),!n instanceof RedShader&&RedGLUtil.throwfunc("RedProgram : vShaderInfo - RedShader만 허용됩니다."),!a instanceof RedShader&&RedGLUtil.throwfunc("RedProgram : fShaderInfo - RedShader만 허용됩니다."),n.type!=RedShader.VERTEX&&RedGLUtil.throwfunc("RedProgram : vShaderInfo - VERTEX 타입만 허용됩니다."),a.type!=RedShader.FRAGMENT&&RedGLUtil.throwfunc("RedProgram : fShaderInfo - FRAGMENT 타입만 허용됩니다."),i=e.gl,e._datas.RedProgram||(e._datas.RedProgram={}),e._datas.RedProgram[r]?e._datas.RedProgram[r]:(e._datas.RedProgram[r]=this,this.key=r,this.webglProgram=t(i,r,n,a),i.useProgram(this.webglProgram),this.attributeLocation=[],this.uniformLocation=[],this.systemUniformLocation=[],this.updateLocation(i,n),this.updateLocation(i,a),this._UUID=RedGL.makeUUID(),void Object.freeze(this))):new RedProgram(e,r,n,a)}).prototype={updateLocation:function(t,e){r=this,e.parseData.attribute&&e.parseData.attribute.list.forEach(function(e){var n={};(n={})._UUID=RedGL.makeUUID(),n.location=t.getAttribLocation(r.webglProgram,e.name),-1==!n.location&&(n.msg="쉐이더 main 함수에서 사용되고 있지 않음"),n.attributeType=e.attributeType,n.name=e.name,r.attributeLocation.push(n),r.attributeLocation[e.name]=n}),e.parseData.uniform&&e.parseData.uniform.list.forEach(function(e){var n,a,i={};switch(i._UUID=RedGL.makeUUID(),i.location=t.getUniformLocation(r.webglProgram,e.name),i.location||(i.msg="쉐이더 main 함수에서 사용되고 있지 않음"),i.uniformType=e.uniformType,e.arrayNum,e.uniformType){case"sampler2D":n="sampler2D",a="uniform1f";break;case"float":n="float",a="uniform1f";break;case"int":n="int",a="uniform1i";break;case"mat4":n="mat",a="uniformMatrix4fv";break;case"mat3":n="mat",a="uniformMatrix3fv";break;case"mat2":n="mat",a="uniformMatrix2fv";break;case"vec4":n="vec",a="uniform4fv";break;case"vec3":n="vec",a="uniform3fv";break;case"vec2":n="vec",a="uniform2fv"}i.renderType=n,i.renderMethod=a,i.name=e.name,i.materialPropertyName=e.name.charAt(1).toLowerCase()+e.name.substr(2),i.arrayNum=e.arrayNum,e.systemUniformYn?(r.systemUniformLocation.push(i),r.systemUniformLocation[e.name]=i):(r.uniformLocation.push(i),r.uniformLocation[e.name]=i)})}},Object.freeze(RedProgram)}(),[(RedSystemShaderCode={vShareSource:["uniform float uTime","varying float vTime","uniform vec2 uResolution","varying vec2 vResolution","uniform mat4 uMVMatrix","uniform mat4 uPMatrix","uniform mat4 uCameraMatrix"],fShareSource:["varying float vTime","varying vec2 vResolution"],systemUniform:{}}).vShareSource,RedSystemShaderCode.fShareSource].forEach(function(t){t.forEach(function(t){"uniform"==(t=t.split(" "))[0]&&(RedSystemShaderCode.systemUniform[t[2]]=1)})}),Object.freeze(RedSystemShaderCode),function(){var t,e,r,n,a,i,o,u;t=function(t,e,r){switch(r){case RedShader.VERTEX:return t.createShader(t.VERTEX_SHADER);case RedShader.FRAGMENT:return t.createShader(t.FRAGMENT_SHADER);default:RedGLUtil.throwFunc("RedShader : 쉐이더 타입을 확인하세요!")}},e=function(t,e,r,n){t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)||RedGLUtil.throwFunc(t.getShaderInfoLog(r),"쉐이더 컴파일에 실패하였습니다.")},n=function(t,e){switch(t){case RedShader.VERTEX:a=RedSystemShaderCode.vShareSource.concat();break;case RedShader.FRAGMENT:a=RedSystemShaderCode.fShareSource.concat();break;default:RedGLUtil.throwFunc("RedShader : 쉐이더 타입을 확인하세요!")}return e.forEach(function(t){t=t.replace(";",""),-1==a.indexOf(t)?a.push(t):RedGLUtil.throwFunc("RedShader : ","\n1. 중복된 소스이거나","\n2. RedSystemShaderCode에 정의된 소스\n",t)}),a},r=function(t,e){return e=e.replace(/  /g,"").trim(),i={func:{list:[],map:{},source:""}},o=o||[],o=e.match(/attribute[\s\S]+?\;|uniform[\s\S]+?\;|varying[\s\S]+?\;|precision[\s\S]+?\;|([a-z0-9]+)\s([\S]+)\;\n/g),(o=n(t,o)).sort(),o.forEach(function(t){var r,n,a,o,u,s;if(t=t.trim(),e=e.replace(t+";",""),(r=t.split(" "))[2])switch(n=r[0],o=r[1],u=(a=r[2].replace(";","").split("[")).length>1?+a[1].split("]")[0]:0,a=a[0],n){case"attribute":"a"!=a.charAt(0)&&RedGLUtil.throwFunc("attribute의 첫글자는 a로 시작해야합니다.",a);break;case"uniform":"u"!=a.charAt(0)&&RedGLUtil.throwFunc("uniform의 첫글자는 u로 시작해야합니다.",a);break;case"varying":"v"!=a.charAt(0)&&RedGLUtil.throwFunc("varying의 첫글자는 v로 시작해야합니다.",a)}else n="var",o=r[0],u=(a=r[1].replace(";","").split("[")).length>1?+a[1].split("]")[0]:0,a=a[0];i[n]||(i[n]={},i[n].list=[],i[n].map={},i[n].source=""),s={name:a,arrayNum:u,systemUniformYn:!!RedSystemShaderCode.systemUniform[a]},"uniform"==n&&(s.uniformType=o),"attribute"==n&&(s.attributeType=o),i[n].list.push(s),i[n].map[a]=t,i[n].source+=t+";\n"}),e=e.trim(),(e+="\n").match(/[a-z0-9]+\s[\s\S]+?(\}\n)/g).forEach(function(t){var e=t.split(" "),r=e[1].replace(/\([\s\S]+/g,"").trim();i.func.list.push({uniformType:e[0],name:r}),i.func.map[r]=t,i.func.source+=t+"\n"}),u="",i.precision&&(u+=i.precision.source+"\n//attribute\n"),i.attribute&&(u+=i.attribute.source+"\n//uniform\n"),i.uniform&&(u+=i.uniform.source+"\n//varying\n"),i.varying&&(u+=i.varying.source+"\n//var\n"),i.var&&(u+=i.var.source+"\n//func\n"),i.func&&(u+=i.func.source),i.lastSource=u,i},(RedShader=function(n,a,i,o){var u;if(!(this instanceof RedShader))return new RedShader(n,a,i,o);n instanceof RedGL||RedGLUtil.throwfunc("RedShader : RedGL Instance만 허용됩니다."),"string"!=typeof a&&RedGLUtil.throwfunc("RedShader : key - 문자열만 허용됩니다."),"string"!=typeof i&&RedGLUtil.throwfunc("RedShader : type - 문자열만 허용됩니다."),"string"!=typeof o&&RedGLUtil.throwfunc("RedShader : source - 문자열만 허용됩니다."),u=n.gl,this.webglShader=t(u,0,i),this.parseData=r(i,o),e(u,0,this.webglShader,this.parseData.lastSource),this.key=a,this.type=i,this._UUID=RedGL.makeUUID(),Object.freeze(this)}).FRAGMENT="fragmentShader",RedShader.VERTEX="vertexShader",Object.freeze(RedShader)}(),function(){var t,e,r,n,a,i,o;(RedRenderer=function(){if(!(this instanceof RedRenderer))return new RedRenderer;this.world=null,this._tickKey=null,this._callback=null,this._UUID=RedGL.makeUUID(),this.renderInfo={},this.cacheUniformInfo=[],this.cacheAttrInfo=[],this.cacheTextureInfo=[],Object.seal(this)}).prototype={start:(t=function(n){e.worldRender(r,n),e._callback&&e._callback(n),e._tickKey=requestAnimationFrame(t)},function(n,a){n instanceof RedGL||RedGLUtil.throwFunc("RedGL Instance만 허용"),n.world instanceof RedWorld||RedGLUtil.throwFunc("RedWorld Instance만 허용"),(e=this).world=n.world,r=n,e._tickKey=requestAnimationFrame(t),e._callback=a}),stop:function(){cancelAnimationFrame(this._tickKey)}},RedRenderer.prototype.worldRender=function(){var t,e,r,a,i,o,u,s,c,f,h,d,l,M,R;return o=function(e){return e.forEach(function(r,n){"number"==typeof e[n]?e[n]=r:e[n]=n<2?t[n+2]*parseFloat(e[n])/100:t[n]*parseFloat(e[n])/100}),e},R=[],u=function(t,e,r,a,i){for(var o in f=t.gl,t._datas.RedProgram)s=t._datas.RedProgram[o],n!=s._UUID&&f.useProgram(s.webglProgram),n=s._UUID,c=s.systemUniformLocation,h=c.uTime,d=h.location,l=h._UUID,d&&R[l]!=e&&(f.uniform1f(d,e),R[l]=e),h=c.uResolution,d=h.location,l=h._UUID,M=[i[2],i[3]],d&&R[l]!=M.toString()&&(f.uniform2fv(d,M),R[l]=M.toString()),h=c.uCameraMatrix,d=h.location,l=h._UUID,d&&R[l]!=a.toString()&&(f.uniformMatrix4fv(d,!1,a),R[l]=a.toString()),h=c.uPMatrix,d=h.location,l=h._UUID,d&&R[l]!=r.toString()&&(f.uniformMatrix4fv(d,!1,r),R[l]=r.toString())},e=[],a=mat4.create(),function(n,s){var c;c=n.gl,i=this,t=[0,0,c.drawingBufferWidth,c.drawingBufferHeight],c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight),c.scissor(0,0,c.drawingBufferWidth,c.drawingBufferHeight),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),i.renderInfo={},i.world._viewList.forEach(function(f){e[0]=f._x,e[1]=f._y,e[2]=f._width,e[3]=f._height,(r=f.camera).updateMatrix(),i.renderInfo[f.key]={orthographic:r.orthographic,x:f._x,y:f._y,width:f._width,height:f._height,key:f.key,call:0},o(e),c.viewport(e[0],t[3]-e[3]-e[1],e[2],e[3]),c.scissor(e[0],t[3]-e[3]-e[1],e[2],e[3]),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),mat4.identity(a),r.orthographic?(mat4.ortho(a,-.5,.5,-.5,.5,-r.farClipping,r.farClipping),mat4.translate(a,a,[-.5,.5,0]),mat4.scale(a,a,[1/e[2],-1/e[3],1]),mat4.identity(r.matrix),c.disable(c.CULL_FACE)):(mat4.perspective(a,r.fov*Math.PI/180,e[2]/e[3],r.nearClipping,r.farClipping),c.enable(c.CULL_FACE)),u(n,s,a,r.matrix,e),i.sceneRender(c,r.orthographic,f.scene,s,i.renderInfo[f.key])})}}(),RedRenderer.prototype.sceneRender=(o=1,function(t,e,r,u,s){var c,f,h,d,l,M,R,m,v,p,E,b,_,T,y,U,L,A,g,w,S,I,P,x,O,G,N,F,B,D,C,Y,q,j,X,V,k,z,W,H,Z,K,Q,J,$,tt,et,rt,nt,at,it,ot,ut,st,ct,ft,ht,dt,lt,Mt,Rt,mt,vt=e?.5:1;for(l=this.cacheUniformInfo,d=this.cacheAttrInfo,M=this.cacheTextureInfo,R=Float32Array.BYTES_PER_ELEMENT,dt=3.141592653589793,lt=6.283185307179586,Mt=1.27323954,Rt=.405284735,mt=1.5707963267948966,I=mat4.create(),f=(c=r.children).length;f--;){for(s.call++,v=(m=c[f]).geometry,p=m.material,n!=p.program._UUID&&t.useProgram(p.program.webglProgram),n=p.program._UUID,b=p.program.attributeLocation,_=p.program.uniformLocation,T=p.program.systemUniformLocation,g=v.interleaveBuffer,w=v.indexBuffer,E=g.interleaveDefineInfo,x=g._UUID,h=b.length;h--;)y=E[(U=b[h]).name],U&&(A=U.location,i!=x&&t.bindBuffer(t.ARRAY_BUFFER,g.webglBuffer),i=x,d[A]!=U._UUID&&(U.enabled||(t.enableVertexAttribArray(A),U.enabled=!0),t.vertexAttribPointer(A,y.size,g.glArrayType,y.normalize,g.stride*R,y.offset*R),d[A]=U._UUID));for(h=_.length;h--;)L=(U=_[h]).location,x=U._UUID,L&&(P=U.renderType,void 0==(S=p[U.materialPropertyName])&&RedGLUtil.throwFunc("RedRenderer : Material에 ",U.materialPropertyName,"이 정의 되지않았습니다."),O=l[x]==S,"sampler2D"==P?M[o]==S._UUID||(t.activeTexture(t.TEXTURE0+o),t.bindTexture(t.TEXTURE_2D,S.webglTexture),t.uniform1i(L,o),M[o]&&o++,8==o&&(o=1),M[o]=S._UUID):"float"==P?!O&&t[U.renderMethod](L,l[x]=S):"int"==P?!O&&t[U.renderMethod](L,l[x]=S):"vec"==P?!O&&t[U.renderMethod](L,l[x]=S):"mat"==P?t[U.renderMethod](L,!1,S):RedGLUtil.throwFunc("RedRenderer : 처리할수없는 타입입니다.","tRenderType -",P));I[0]=1,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=1,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=1,I[11]=0,I[12]=0,I[13]=0,I[14]=0,I[15]=1,G=I,st=m.x,ct=m.y,ft=m.z,G[12]=G[0]*st+G[4]*ct+G[8]*ft+G[12],G[13]=G[1]*st+G[5]*ct+G[9]*ft+G[13],G[14]=G[2]*st+G[6]*ct+G[10]*ft+G[14],G[15]=G[3]*st+G[7]*ct+G[11]*ft+G[15],q=m.rotationX,j=m.rotationY,X=m.rotationZ,(ht=q%lt)<-dt?ht+=lt:ht>dt&&(ht-=lt),N=(ht=ht<0?Mt*ht+Rt*ht*ht:Mt*ht-Rt*ht*ht)<0?.225*(ht*-ht-ht)+ht:.225*(ht*ht-ht)+ht,(ht=(q+mt)%lt)<-dt?ht+=lt:ht>dt&&(ht-=lt),D=(ht=ht<0?Mt*ht+Rt*ht*ht:Mt*ht-Rt*ht*ht)<0?.225*(ht*-ht-ht)+ht:.225*(ht*ht-ht)+ht,(ht=j%lt)<-dt?ht+=lt:ht>dt&&(ht-=lt),F=(ht=ht<0?Mt*ht+Rt*ht*ht:Mt*ht-Rt*ht*ht)<0?.225*(ht*-ht-ht)+ht:.225*(ht*ht-ht)+ht,(ht=(j+mt)%lt)<-dt?ht+=lt:ht>dt&&(ht-=lt),C=(ht=ht<0?Mt*ht+Rt*ht*ht:Mt*ht-Rt*ht*ht)<0?.225*(ht*-ht-ht)+ht:.225*(ht*ht-ht)+ht,(ht=X%lt)<-dt?ht+=lt:ht>dt&&(ht-=lt),B=(ht=ht<0?Mt*ht+Rt*ht*ht:Mt*ht-Rt*ht*ht)<0?.225*(ht*-ht-ht)+ht:.225*(ht*ht-ht)+ht,(ht=(X+mt)%lt)<-dt?ht+=lt:ht>dt&&(ht-=lt),Y=(ht=ht<0?Mt*ht+Rt*ht*ht:Mt*ht-Rt*ht*ht)<0?.225*(ht*-ht-ht)+ht:.225*(ht*ht-ht)+ht,V=G[0],k=G[1],z=G[2],W=G[4],H=G[5],Z=G[6],K=G[8],Q=G[9],J=G[10],$=C*Y,tt=N*F*Y-D*B,et=D*F*Y+N*B,rt=C*B,nt=N*F*B+D*Y,at=D*F*B-N*Y,it=-F,ot=N*C,ut=D*C,G[0]=V*$+W*tt+K*et,G[1]=k*$+H*tt+Q*et,G[2]=z*$+Z*tt+J*et,G[4]=V*rt+W*nt+K*at,G[5]=k*rt+H*nt+Q*at,G[6]=z*rt+Z*nt+J*at,G[8]=V*it+W*ot+K*ut,G[9]=k*it+H*ot+Q*ut,G[10]=z*it+Z*ot+J*ut,st=m.scaleX*vt,ct=m.scaleY*vt,ft=m.scaleZ*vt,G[0]=G[0]*st,G[1]=G[1]*st,G[2]=G[2]*st,G[3]=G[3]*st,G[4]=G[4]*ct,G[5]=G[5]*ct,G[6]=G[6]*ct,G[7]=G[7]*ct,G[8]=G[8]*ft,G[9]=G[9]*ft,G[10]=G[10]*ft,G[11]=G[11]*ft,G[12]=G[12],G[13]=G[13],G[14]=G[14],G[15]=G[15],t.uniformMatrix4fv(T.uMVMatrix.location,!1,I),w?(a!=w._UUID&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,w.webglBuffer),t.drawElements(t.TRIANGLES,w.pointNum,w.glArrayType,0),a=w._UUID):t.drawArrays(t.TRIANGLES,0,g.pointNum)}}),Object.freeze(RedRenderer)}(),(RedBitmapTexture=function(t,e,r){var n,a;if(!(this instanceof RedBitmapTexture))return new RedBitmapTexture(t,e,r);t instanceof RedGL||RedGLUtil.throwfunc("RedBitmapTexture : RedGL Instance만 허용됩니다."),a=(n=t.gl).createTexture(),this.webglTexture=a,this._UUID=RedGL.makeUUID(),this.setEmptyTexture(n,a),this.loadTexture(n,a,e)}).prototype={setEmptyTexture:function(t,e){t.activeTexture(t.TEXTURE0+0),t.bindTexture(t.TEXTURE_2D,e),t.pixelStorei(t.UNPACK_ALIGNMENT,1),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,2,2,0,t.LUMINANCE,t.UNSIGNED_BYTE,new Uint8Array([128,64,0,192])),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.generateMipmap(t.TEXTURE_2D),t.pixelStorei(t.UNPACK_ALIGNMENT,4),t.bindTexture(t.TEXTURE_2D,null)},loadTexture:function(t,e,r){var n,a,i,o;return i=function(t){t.removeEventListener("error",n),t.removeEventListener("load",a)},n=function(){var t="couldn't load image: "+r;RedGLUtil.throwFunc(t),i(this)},a=function(){i(this),t.activeTexture(t.TEXTURE0+0),t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},(o=new Image).crossOrigin="anonymous",o.src=r,o.addEventListener("error",n),o.addEventListener("load",a),o}},Object.freeze(RedBitmapTexture),function(){var t;t={},(RedView=function(e,r,n){if(t[e]){if(!r&&!n)return t[e];RedGLUtil.throwFunc(e,"는 이미 생성된 RedView key입니다.")}if(!(this instanceof RedView))return new RedView(e,r,n);"string"!=typeof e&&RedGLUtil.throwFunc("key : 문자열만 허용"),r||n||RedGLUtil.throwFunc("존재하지 않는 key입니다."),!r||r instanceof RedScene||RedGLUtil.throwFunc("RedScene Instance만 허용"),!n||n instanceof RedCamera||RedGLUtil.throwFunc("RedCamera Instance만 허용"),this.key=e,this.scene=r,this.camera=n,this._width="100%",this._height="100%",this._x=0,this._y=0,t[e]=this,Object.seal(this)}).prototype={setSize:function(t,e){this._width=void 0!=t?t:"100%",this._height=void 0!=e?e:"100%"},setLocation:function(t,e){this._x=void 0!=t?t:0,this._y=void 0!=e?e:0}},Object.freeze(RedView)}(),(RedWorld=function(){if(!(this instanceof RedWorld))return new RedWorld;this._viewList=[],this._viewMap={},this._UUID=RedGL.makeUUID(),Object.seal(this)}).prototype={addView:function(t){return t instanceof RedView||RedGLUtil.throwFunc("RedView Instance만 허용함."),this._viewMap[t.key]=t,this._viewList.push(t),this},getView:function(t){return this._viewMap[t]},delView:function(t){var e,r;return(e=this._viewMap[t])&&(r=this._viewList.indexOf(e),this._viewList.splice(r,1),delete this._viewMap[t]),this},hasView:function(t){return!!this._viewMap[t]},getViewList:function(){return this._viewList.concat()}},Object.freeze(RedWorld),(RedScene=function(){if(!(this instanceof RedScene))return new RedScene;this.children=[],this._UUID=RedGL.makeUUID(),Object.seal(this)}).prototype={},RedGLUtil.extendsProto(RedScene,RedBaseContainer),Object.freeze(RedScene),function(){var t,e;(RedCamera=function(){if(!(this instanceof RedCamera))return new RedCamera;this.x=this.y=this.z=0,this.rotationX=this.rotationY=this.rotationZ=0,this.fov=45,this.nearClipping=.1,this.farClipping=1e5,this.orthographic=!1,this.matrix=mat4.create(),this._UUID=RedGL.makeUUID()}).prototype={updateMatrix:(e=Math.PI/180,function(){t=mat4.identity(this.matrix),mat4.translate(t,t,[this.x,this.y,this.z]),mat4.rotateX(t,t,this.rotationX*e),mat4.rotateY(t,t,this.rotationY*e),mat4.rotateZ(t,t,this.rotationZ*e)})},RedGLUtil.extendsProto(RedCamera,RedBaseObject3D),Object.freeze(RedCamera)}();console.log('LOGIN Release. last update(2018-03-26 13:11:54)');